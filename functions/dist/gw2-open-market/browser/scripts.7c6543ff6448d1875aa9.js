!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Mixins/IndicatorRequired.js",[t["Core/Utilities.js"]],(function(t){var i=t.error;return{isParentLoaded:function(t,o,n,e,s){return t?!e||e(t):(i(s||this.generateMessage(n,o)),!1)},generateMessage:function(t,i){return'Error: "'+t+'" indicator type requires "'+i+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+t}}})),i(t,"Stock/Indicators/Indicators.js",[t["Core/Globals.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.addEvent,e=o.error,s=o.extend,a=o.isArray,r=o.pick,l=o.seriesType,h=o.splat,p=t.Series,c=t.seriesTypes,u=t.seriesTypes.ohlc.prototype,d=i.generateMessage;n(t.Series,"init",(function(t){(t=t.options).useOhlcData&&"highcharts-navigator-series"!==t.id&&s(this,{pointValKey:u.pointValKey,keys:u.keys,pointArrayMap:u.pointArrayMap,toYData:u.toYData})})),n(p,"afterSetOptions",(function(t){var i=(t=t.options).dataGrouping;i&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(i.approximation="ohlc")})),l("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var t=this.options.compareToMain,i=this.linkedParent;p.prototype.processData.apply(this,arguments),i&&i.compareValue&&t&&(this.compareValue=i.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach((function(i){c[i]?c[i].prototype.requireIndicators():(t.allLoaded=!1,t.needed=i)})),t},init:function(t,i){function o(){var t=s.points||[],i=(s.xData||[]).length,o=s.getValues(s.linkedParent,s.options.params)||{values:[],xData:[],yData:[]},n=[],e=!0;if(i&&!s.hasGroupedData&&s.visible&&s.points)if(s.cropped){if(s.xAxis)var a=s.xAxis.min,r=s.xAxis.max;for(i=s.cropData(o.xData,o.yData,a,r),a=0;a<i.xData.length;a++)n.push([i.xData[a]].concat(h(i.yData[a])));i=o.xData.indexOf(s.xData[0]),a=o.xData.indexOf(s.xData[s.xData.length-1]),-1===i&&a===o.xData.length-2&&n[0][0]===t[0].x&&n.shift(),s.updateData(n)}else o.xData.length!==i-1&&o.xData.length!==i+1&&(e=!1,s.updateData(o.values));e&&(s.xData=o.xData,s.yData=o.yData,s.options.data=o.values),!1===s.bindTo.series&&(delete s.processedXData,s.isDirty=!0,s.redraw()),s.isDirtyData=!1}var s=this,a=s.requireIndicators();if(!a.allLoaded)return e(d(s.type,a.needed));if(p.prototype.init.call(s,t,i),t.linkSeries(),s.dataEventsToUnbind=[],!s.linkedParent)return e("Series "+s.options.linkedTo+" not found! Check `linkedTo`.",!1,t);if(s.dataEventsToUnbind.push(n(s.bindTo.series?s.linkedParent:s.linkedParent.xAxis,s.bindTo.eventName,o)),"init"===s.calculateOn)o();else var r=n(s.chart,s.calculateOn,(function(){o(),r()}));return s},getName:function(){var t=this.name,i=[];return t||((this.nameComponents||[]).forEach((function(t,o){i.push(this.options.params[t]+r(this.nameSuffixes[o],""))}),this),t=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+i.join(", ")+")":"")),t},getValues:function(t,i){var o=i.period,n=t.xData,e=(t=t.yData).length,s=0,r=0,l=[],h=[],p=[],c=-1;if(!(n.length<o)){for(a(t[0])&&(c=i.index?i.index:0);s<o-1;)r+=0>c?t[s]:t[s][c],s++;for(i=s;i<e;i++){var u=[n[i],(r+=0>c?t[i]:t[i][c])/o];l.push(u),h.push(u[0]),p.push(u[1]),r-=0>c?t[i-s]:t[i-s][c]}return{values:l,xData:h,yData:p}}},destroy:function(){this.dataEventsToUnbind.forEach((function(t){t()})),p.prototype.destroy.apply(this,arguments)}})})),i(t,"Stock/Indicators/ADIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.error;(t=t.seriesType)("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(t,o){var n=o.period,e=t.xData,s=t.yData,a=o.volumeSeriesID,r=t.chart.get(a);o=r&&r.yData;var l=s?s.length:0,h=[],p=[],c=[];if(!(e.length<=n&&l&&4!==s[0].length)){if(r){for(;n<l;n++){r=s[n][2];var u=s[n][3];a=[e[n],u===(a=s[n][1])&&u===r||a===r?0:(2*u-r-a)/(a-r)*o[n]],0<(t=h.length)&&(a[1]+=h[t-1][1]),h.push(a),p.push(a[0]),c.push(a[1])}return{values:h,xData:p,yData:c}}i("Series "+a+" not found! Check `volumeSeriesID`.",!0,t.chart)}}})})),i(t,"Stock/Indicators/AOIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.correctFloat,n=i.isArray;(i=i.seriesType)("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:t.noop,getColumnMetrics:t.seriesTypes.column.prototype.getColumnMetrics,crispCol:t.seriesTypes.column.prototype.crispCol,translate:t.seriesTypes.column.prototype.translate,drawPoints:t.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var t=this.options,i=this.points,o=t.greaterBarColor;t=t.lowerBarColor;var n=i[0];if(!this.userOptions.color&&n)for(n.color=o,n=1;n<i.length;n++)i[n].color=i[n].y>i[n-1].y?o:i[n].y<i[n-1].y?t:i[n-1].color},getValues:function(t){var i,e=t.xData||[],s=(t=t.yData||[]).length,a=[],r=[],l=[],h=0,p=0;if(!(34>=e.length)&&n(t[0])&&4===t[0].length){for(i=0;33>i;i++){var c=(t[i][1]+t[i][2])/2;29<=i&&(h=o(h+c)),p=o(p+c)}for(i=33;i<s;i++){h=o(h+(c=(t[i][1]+t[i][2])/2));var u=(p=o(p+c))/34;c=o((c=h/5)-u),a.push([e[i],c]),r.push(e[i]),l.push(c),u=i+1-34,h=o(h-(t[c=i+1-5][1]+t[c][2])/2),p=o(p-(t[u][1]+t[u][2])/2)}return{values:a,xData:r,yData:l}}}})})),i(t,"Mixins/MultipleLines.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.defined,n=i.error,e=i.merge,s=t.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(t){var i=[];return(this.pointArrayMap||[]).forEach((function(o){o!==t&&i.push("plot"+o.charAt(0).toUpperCase()+o.slice(1))})),i},toYData:function(t){var i=[];return(this.pointArrayMap||[]).forEach((function(o){i.push(t[o])})),i},translate:function(){var t,i=this,o=i.pointArrayMap,n=[];n=i.getTranslatedLinesNames(),s.prototype.translate.apply(i,arguments),i.points.forEach((function(e){o.forEach((function(o,s){null!==(t=e[o])&&(e[n[s]]=i.yAxis.toPixels(t,!0))}))}))},drawGraph:function(){var t,i=this,a=i.linesApiNames,r=i.points,l=r.length,h=i.options,p=i.graph,c={options:{gapSize:h.gapSize}},u=[];i.getTranslatedLinesNames(i.pointValKey).forEach((function(i,n){for(u[n]=[];l--;)u[n].push({x:(t=r[l]).x,plotX:t.plotX,plotY:t[i],isNull:!o(t[i])});l=r.length})),a.forEach((function(t,o){u[o]?(i.points=u[o],h[t]?i.options=e(h[t].styles,c):n('Error: "There is no '+t+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),i.graph=i["graph"+t],s.prototype.drawGraph.call(i),i["graph"+t]=i.graph):n('Error: "'+t+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")})),i.points=r,i.options=h,i.graph=p,s.prototype.drawGraph.call(i)}}})),i(t,"Stock/Indicators/AroonIndicator.js",[t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],(function(t,i){function o(t,i){var o,n=t[0],e=0;for(o=1;o<t.length;o++)("max"===i&&t[o]>=n||"min"===i&&t[o]<=n)&&(n=t[o],e=o);return e}var n=t.merge,e=t.pick;(t=t.seriesType)("aroon","sma",{params:{period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},n(i,{nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",linesApiNames:["aroonDown"],getValues:function(t,i){var n,s=t.xData,a=(t=t.yData)?t.length:0,r=[],l=[],h=[];for(n=(i=i.period)-1;n<a;n++){var p=t.slice(n-i+1,n+2),c=o(p.map((function(t){return e(t[2],t)})),"min");p=(p=o(p.map((function(t){return e(t[1],t)})),"max"))/i*100,c=c/i*100,s[n+1]&&(r.push([s[n+1],p,c]),l.push(s[n+1]),h.push([p,c]))}return{values:r,xData:l,yData:h}}}))})),i(t,"Stock/Indicators/AroonOscillatorIndicator.js",[t["Core/Globals.js"],t["Mixins/MultipleLines.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=n.merge,s=t.seriesTypes.aroon;(n=n.seriesType)("aroonoscillator","aroon",{params:{period:25},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b>: {point.y}'}},e(i,{nameBase:"Aroon Oscillator",pointArrayMap:["y"],pointValKey:"y",linesApiNames:[],init:function(){var t=arguments,i=this;o.isParentLoaded(s,"aroon",i.type,(function(o){o.prototype.init.apply(i,t)}))},getValues:function(t,i){var o=[],n=[],e=[];for(t=s.prototype.getValues.call(this,t,i),i=0;i<t.yData.length;i++){var a=t.yData[i][0];o.push([t.xData[i],a-=t.yData[i][1]]),n.push(t.xData[i]),e.push(a)}return{values:o,xData:n,yData:e}}}))})),i(t,"Stock/Indicators/ATRIndicator.js",[t["Core/Utilities.js"]],(function(t){function i(t,i){return Math.max(t[1]-t[2],i===o?0:Math.abs(t[1]-i[3]),i===o?0:Math.abs(t[2]-i[3]))}var o,n=t.isArray;(t=t.seriesType)("atr","sma",{params:{period:14}},{getValues:function(t,o){var e,s=t.xData,a=(t=t.yData)?t.length:0,r=1,l=0,h=0,p=[],c=[],u=[],d=[[s[0],t[0]]];if(!(s.length<=(o=o.period))&&n(t[0])&&4===t[0].length){for(e=1;e<=a;e++)if(d.push([s[e],t[e]]),o<r){var f=o;l=(f=[s[e-1],(l*(f-1)+i(t[e-1],t[e-2]))/f])[1],p.push(f),c.push(f[0]),u.push(f[1])}else o===r?(p.push([s[e-1],l=h/(e-1)]),c.push(s[e-1]),u.push(l)):h+=i(t[e-1],t[e-2]),r++;return{values:p,xData:c,yData:u}}}})})),i(t,"Stock/Indicators/BBIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],(function(t,i,o){var n=i.isArray,e=i.merge,s=t.seriesTypes.sma;(i=i.seriesType)("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},e(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){s.prototype.init.apply(this,arguments),this.options=e({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(t,i){var o,e=i.period,a=i.standardDeviation,r=t.xData,l=(t=t.yData)?t.length:0,h=[],p=[],c=[];if(!(r.length<e)){var u=n(t[0]);for(o=e;o<=l;o++){var d=r.slice(o-e,o),f=t.slice(o-e,o),y=s.prototype.getValues.call(this,{xData:d,yData:f},i);d=y.xData[0],y=y.yData[0];for(var g=0,v=f.length,x=0;x<v;x++){var m=(u?f[x][i.index]:f[x])-y;g+=m*m}m=Math.sqrt(g/(v-1)),h.push([d,f=y+a*m,y,m=y-a*m]),p.push(d),c.push([f,y,m])}return{values:h,xData:p,yData:c}}}}))})),i(t,"Stock/Indicators/CCIIndicator.js",[t["Core/Utilities.js"]],(function(t){function i(t){return t.reduce((function(t,i){return t+i}),0)}var o=t.isArray;(t=t.seriesType)("cci","sma",{params:{period:14}},{getValues:function(t,n){var e=t.xData,s=(t=t.yData)?t.length:0,a=[],r=1,l=[],h=[],p=[];if(!(e.length<=(n=n.period))&&o(t[0])&&4===t[0].length){for(;r<n;){var c=t[r-1];a.push((c[1]+c[2]+c[3])/3),r++}for(r=n;r<=s;r++){var u=a.push(c=((c=t[r-1])[1]+c[2]+c[3])/3),d=a.slice(u-n);u=i(d)/n;var f,y=d.length,g=0;for(f=0;f<y;f++)g+=Math.abs(u-d[f]);l.push([e[r-1],c=(c-u)/(.015*(d=g/n))]),h.push(e[r-1]),p.push(c)}return{values:l,xData:h,yData:p}}}})})),i(t,"Stock/Indicators/CMFIndicator.js",[t["Core/Utilities.js"]],(function(t){(t=t.seriesType)("cmf","sma",{params:{period:14,volumeSeriesID:"volume"}},{nameBase:"Chaikin Money Flow",isValid:function(){var t=this.chart,i=this.options,o=this.linkedParent;return t=this.volumeSeries||(this.volumeSeries=t.get(i.params.volumeSeriesID)),!!(o&&t&&o.xData&&o.xData.length>=i.params.period&&t.xData&&t.xData.length>=i.params.period&&o&&o.yData&&4===o.yData[0].length)},getValues:function(t,i){if(this.isValid())return this.getMoneyFlow(t.xData,t.yData,this.volumeSeries.yData,i.period)},getMoneyFlow:function(t,i,o,n){function e(t,i){var o=t[1],n=t[2];return t=t[3],null!==i&&null!==o&&null!==n&&null!==t&&o!==n?(t-n-(o-t))/(o-n)*i:(d=s,null)}var s,a=i.length,r=[],l=0,h=0,p=[],c=[],u=[],d=-1;if(0<n&&n<=a){for(s=0;s<n;s++)r[s]=e(i[s],o[s]),l+=o[s],h+=r[s];for(p.push(t[s-1]),c.push(s-d>=n&&0!==l?h/l:null),u.push([p[0],c[0]]);s<a;s++){r[s]=e(i[s],o[s]),l-=o[s-n],l+=o[s],h-=r[s-n],h+=r[s];var f=[t[s],s-d>=n?h/l:null];p.push(f[0]),c.push(f[1]),u.push([f[0],f[1]])}}return{values:u,xData:p,yData:c}}})})),i(t,"Stock/Indicators/DPOIndicator.js",[t["Core/Utilities.js"]],(function(t){function i(t,i,e,s,a){return i=n(i[e][s],i[e]),o(a?t-i:t+i)}var o=t.correctFloat,n=t.pick;(t=t.seriesType)("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(t,o){var e=o.period;o=o.index;var s,a,r=e+Math.floor(e/2+1),l=t.xData||[],h=(t=t.yData||[]).length,p=[],c=[],u=[],d=0;if(!(l.length<=r)){for(s=0;s<e-1;s++)d=i(d,t,s,o);for(a=0;a<=h-r;a++){var f=a+e-1;s=a+r-1,d=i(d,t,f,o),f=n(t[s][o],t[s]),f-=d/e,d=i(d,t,a,o,!0),p.push([l[s],f]),c.push(l[s]),u.push(f)}return{values:p,xData:c,yData:u}}}})})),i(t,"Stock/Indicators/EMAIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.correctFloat,o=t.isArray;(t=t.seriesType)("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(t,i,o){for(var n=0,e=0;e<t;)n+=0>i?o[e]:o[e][i],e++;return n},calculateEma:function(t,o,n,e,s,a,r){return o=0>a?o[n-1]:o[n-1][a],[t=t[n-1],e=void 0===s?r:i(o*e+s*(1-e))]},getValues:function(t,i){var n=i.period,e=t.xData,s=(t=t.yData)?t.length:0,a=2/(n+1),r=[],l=[],h=[],p=-1;if(!(s<n)){for(o(t[0])&&(p=i.index?i.index:0),i=this.accumulatePeriodPoints(n,p,t),i/=n;n<s+1;n++){var c=this.calculateEma(e,t,n,a,c,p,i);r.push(c),l.push(c[0]),h.push(c[1]),c=c[1]}return{values:r,xData:l,yData:h}}}})})),i(t,"Stock/Indicators/ChaikinIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],(function(t,i,o){var n=i.correctFloat,e=i.error,s=t.seriesTypes.ema,a=t.seriesTypes.ad;(i=i.seriesType)("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var t=arguments,i=this;o.isParentLoaded(s,"ema",i.type,(function(o){o.prototype.init.apply(i,t)}))},getValues:function(t,i){var o,r=i.periods,l=i.period,h=[],p=[],c=[];if(2!==r.length||r[1]<=r[0])e('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((i=a.prototype.getValues.call(this,t,{volumeSeriesID:i.volumeSeriesID,period:l}))&&(t=s.prototype.getValues.call(this,i,{period:r[0]}),i=s.prototype.getValues.call(this,i,{period:r[1]}),t&&i)){for(r=r[1]-r[0],o=0;o<i.yData.length;o++)l=n(t.yData[o+r]-i.yData[o]),h.push([i.xData[o],l]),p.push(i.xData[o]),c.push(l);return{values:h,xData:p,yData:c}}}})})),i(t,"Stock/Indicators/DEMAIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],(function(t,i,o){var n=i.correctFloat,e=i.isArray,s=t.seriesTypes.ema;(i=i.seriesType)("dema","ema",{},{init:function(){var t=arguments,i=this;o.isParentLoaded(s,"ema",i.type,(function(o){o.prototype.init.apply(i,t)}))},getEMA:function(t,i,o,n,e,a){return s.prototype.calculateEma(a||[],t,void 0===e?1:e,this.chart.series[0].EMApercent,i,void 0===n?-1:n,o)},getValues:function(t,i){var o,a=i.period,r=2*a,l=t.xData,h=t.yData,p=h?h.length:0,c=-1,u=[],d=[],f=[],y=0,g=[];if(t.EMApercent=2/(a+1),!(p<2*a-1)){for(e(h[0])&&(c=i.index?i.index:0),i=(t=s.prototype.accumulatePeriodPoints(a,c,h))/a,t=0,o=a;o<p+2;o++){o<p+1&&(y=this.getEMA(h,v,i,c,o)[1],g.push(y));var v=y;if(o<r)t+=y;else{o===r&&(i=t/a);var x=this.getEMA([y=g[o-a-1]],x,i)[1],m=[l[o-2],n(2*y-x)];u.push(m),d.push(m[0]),f.push(m[1])}}return{values:u,xData:d,yData:f}}}})})),i(t,"Stock/Indicators/TEMAIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],(function(t,i,o){var n=i.correctFloat,e=i.isArray,s=t.seriesTypes.ema;(i=i.seriesType)("tema","ema",{},{init:function(){var t=arguments,i=this;o.isParentLoaded(s,"ema",i.type,(function(o){o.prototype.init.apply(i,t)}))},getEMA:function(t,i,o,n,e,a){return s.prototype.calculateEma(a||[],t,void 0===e?1:e,this.chart.series[0].EMApercent,i,void 0===n?-1:n,o)},getTemaPoint:function(t,i,o,e){return[t[e-3],n(3*o.level1-3*o.level2+o.level3)]},getValues:function(t,i){var o,n,a=i.period,r=2*a,l=3*a,h=t.xData,p=t.yData,c=p?p.length:0,u=-1,d=[],f=[],y=[],g=[],v=[],x={};if(t.EMApercent=2/(a+1),!(c<3*a-2)){for(e(p[0])&&(u=i.index?i.index:0),i=(t=s.prototype.accumulatePeriodPoints(a,u,p))/a,t=0,o=a;o<c+3;o++){o<c+1&&(x.level1=this.getEMA(p,m,i,u,o)[1],g.push(x.level1));var m=x.level1;if(o<r)t+=x.level1;else{o===r&&(i=t/a,t=0),x.level1=g[o-a-1],x.level2=this.getEMA([x.level1],b,i)[1],v.push(x.level2);var b=x.level2;o<l?t+=x.level2:(o===l&&(i=t/a),o===c+1&&(x.level1=g[o-a-1],x.level2=this.getEMA([x.level1],b,i)[1],v.push(x.level2)),x.level1=g[o-a-2],x.level2=v[o-2*a-1],x.level3=this.getEMA([x.level2],x.prevLevel3,i)[1],(n=this.getTemaPoint(h,l,x,o))&&(d.push(n),f.push(n[0]),y.push(n[1])),x.prevLevel3=x.level3)}}return{values:d,xData:f,yData:y}}}})})),i(t,"Stock/Indicators/TRIXIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],(function(t,i,o){var n=i.correctFloat,e=t.seriesTypes.tema;(i=i.seriesType)("trix","tema",{},{init:function(){var t=arguments,i=this;o.isParentLoaded(e,"tema",i.type,(function(o){o.prototype.init.apply(i,t)}))},getTemaPoint:function(t,i,o,e){if(e>i)var s=[t[e-3],0!==o.prevLevel3?n(o.level3-o.prevLevel3)/o.prevLevel3*100:null];return s}})})),i(t,"Stock/Indicators/APOIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],(function(t,i,o){var n=i.error,e=t.seriesTypes.ema;(i=i.seriesType)("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var t=arguments,i=this;o.isParentLoaded(e,"ema",i.type,(function(o){o.prototype.init.apply(i,t)}))},getValues:function(t,i){var o=i.periods,s=i.index;i=[];var a,r=[],l=[];if(2!==o.length||o[1]<=o[0])n('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else{var h=e.prototype.getValues.call(this,t,{index:s,period:o[0]});if(t=e.prototype.getValues.call(this,t,{index:s,period:o[1]}),h&&t){for(o=o[1]-o[0],a=0;a<t.yData.length;a++)i.push([t.xData[a],s=h.yData[a+o]-t.yData[a]]),r.push(t.xData[a]),l.push(s);return{values:i,xData:r,yData:l}}}}})})),i(t,"Stock/Indicators/IKHIndicator.js",[t["Core/Globals.js"],t["Core/Color.js"],t["Core/Utilities.js"]],(function(t,i,o){function n(t){return t.reduce((function(t,i){return Math.max(t,i[1])}),-1/0)}function e(t){return t.reduce((function(t,i){return Math.min(t,i[2])}),1/0)}function s(t){return{high:n(t),low:e(t)}}function a(t,i,o,n){if(t&&i&&o&&n){var e=i.plotX-t.plotX,s=n.plotX-o.plotX,a=t.plotX-o.plotX,r=t.plotY-o.plotY;if(o=(-(i=i.plotY-t.plotY)*a+e*r)/(-s*i+e*(n=n.plotY-o.plotY)),s=(s*r-n*a)/(-s*i+e*n),0<=o&&1>=o&&0<=s&&1>=s)return{plotX:t.plotX+s*e,plotY:t.plotY+s*i}}return!1}function r(t){var i=t.indicator;i.points=t.points,i.nextPoints=t.nextPoints,i.color=t.color,i.options=c(t.options.senkouSpan.styles,t.gap),i.graph=t.graph,i.fillGraph=!0,f.prototype.drawGraph.call(i)}var l=i.parse,h=o.defined,p=o.isArray,c=o.merge,u=o.objectEach;i=o.seriesType;var d,f=t.seriesTypes.sma;t.approximations["ichimoku-averages"]=function(){var i,o=[];return[].forEach.call(arguments,(function(n,e){o.push(t.approximations.average(n)),i=!i&&void 0===o[e]})),i?void 0:o},i("ikh","sma",{params:{period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}},{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"],init:function(){f.prototype.init.apply(this,arguments),this.options=c({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:l(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:l(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:l(this.color).setOpacity(.2).get()}}},this.options)},toYData:function(t){return[t.tenkanSen,t.kijunSen,t.chikouSpan,t.senkouSpanA,t.senkouSpanB]},translate:function(){var t=this;f.prototype.translate.apply(t),t.points.forEach((function(i){t.pointArrayMap.forEach((function(o){h(i[o])&&(i["plot"+o]=t.yAxis.toPixels(i[o],!0),i.plotY=i["plot"+o],i.tooltipPos=[i.plotX,i["plot"+o]],i.isNull=!1)}))}))},drawGraph:function(){var t,i,o=this,n=o.points,e=n.length,s=o.options,l=o.graph,p=o.color,d={options:{gapSize:s.gapSize}},y=o.pointArrayMap.length,g=[[],[],[],[],[],[]],v={tenkanLine:g[0],kijunLine:g[1],chikouLine:g[2],senkouSpanA:g[3],senkouSpanB:g[4],senkouSpan:g[5]},x=[],m=o.options.senkouSpan,b=m.color||m.styles.fill,A=m.negativeColor,C=[[],[]],P=[[],[]],k=0;for(o.ikhMap=v;e--;){var w=n[e];for(t=0;t<y;t++)h(w[m=o.pointArrayMap[t]])&&g[t].push({plotX:w.plotX,plotY:w["plot"+m],isNull:!1});A&&e!==n.length-1&&(t={plotX:(w=a(v.senkouSpanA[(m=v.senkouSpanB.length-1)-1],v.senkouSpanA[m],v.senkouSpanB[m-1],v.senkouSpanB[m])).plotX,plotY:w.plotY,isNull:!1,intersectPoint:!0},w&&(v.senkouSpanA.splice(m,0,t),v.senkouSpanB.splice(m,0,t),x.push(m)))}if(u(v,(function(t,i){s[i]&&"senkouSpan"!==i&&(o.points=g[k],o.options=c(s[i].styles,d),o.graph=o["graph"+i],o.fillGraph=!1,o.color=p,f.prototype.drawGraph.call(o),o["graph"+i]=o.graph),k++})),o.graphCollection&&o.graphCollection.forEach((function(t){o[t].destroy(),delete o[t]})),o.graphCollection=[],A&&v.senkouSpanA[0]&&v.senkouSpanB[0]){for(x.unshift(0),x.push(v.senkouSpanA.length-1),y=0;y<x.length-1;y++){if(e=v.senkouSpanB.slice(m=x[y],(w=x[y+1])+1),m=v.senkouSpanA.slice(m,w+1),1<=Math.floor(e.length/2))if(e[w=Math.floor(e.length/2)].plotY===m[w].plotY){for(i=t=w=0;i<e.length;i++)w+=e[i].plotY,t+=m[i].plotY;w=w>t?0:1}else w=e[w].plotY>m[w].plotY?0:1;else w=e[0].plotY>m[0].plotY?0:1;C[w]=C[w].concat(e),P[w]=P[w].concat(m)}["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach((function(t,i){C[i].length&&P[i].length&&(r({indicator:o,points:C[i],nextPoints:P[i],color:0===i?b:A,options:s,gap:d,graph:o[t]}),o[t]=o.graph,o.graphCollection.push(t))}))}else r({indicator:o,points:v.senkouSpanB,nextPoints:v.senkouSpanA,color:b,options:s,gap:d,graph:o.graphsenkouSpan}),o.graphsenkouSpan=o.graph;delete o.nextPoints,delete o.fillGraph,o.points=n,o.options=s,o.graph=l},getGraphPath:function(t){if(t=t||this.points,this.fillGraph&&this.nextPoints){var i=f.prototype.getGraphPath.call(this,this.nextPoints);i[0][0]="L";for(var o=f.prototype.getGraphPath.call(this,t),n=(i=i.slice(0,o.length)).length-1;0<=n;n--)o.push(i[n])}else o=f.prototype.getGraphPath.apply(this,arguments);return o},getValues:function(t,i){var o=i.period,n=i.periodTenkan;i=i.periodSenkouSpanB;var e=t.xData,a=t.yData,r=a&&a.length||0;t=function(t){var i,o,n,e;return t.series.forEach((function(t){if(t.xData)for(n=t.xData,e=t.xIncrement?1:n.length-1;0<e;e--)o=n[e]-n[e-1],(i===d||o<i)&&(i=o)})),i}(t.xAxis);var l,h=[],c=[];if(!(e.length<=o)&&p(a[0])&&4===a[0].length){var u=e[0]-o*t;for(l=0;l<o;l++)c.push(u+l*t);for(l=0;l<r;l++){if(l>=n){var f=a.slice(l-n,l);f=((f=s(f)).high+f.low)/2}if(l>=o)var y=a.slice(l-o,l),g=(f+(y=((y=s(y)).high+y.low)/2))/2;if(l>=i){var v=a.slice(l-i,l);v=((v=s(v)).high+v.low)/2}u=a[l][3];var x=e[l];h[l]===d&&(h[l]=[]),h[l+o]===d&&(h[l+o]=[]),h[l+o][0]=f,h[l+o][1]=y,h[l+o][2]=d,h[l][2]=u,l<=o&&(h[l+o][3]=d,h[l+o][4]=d),h[l+2*o]===d&&(h[l+2*o]=[]),h[l+2*o][3]=g,h[l+2*o][4]=v,c.push(x)}for(l=1;l<=o;l++)c.push(x+l*t);return{values:h,xData:c,yData:h}}}})})),i(t,"Stock/Indicators/KeltnerChannelsIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],(function(t,i,o){var n=i.correctFloat,e=i.merge,s=t.seriesTypes.sma,a=t.seriesTypes.ema,r=t.seriesTypes.atr;(i=i.seriesType)("keltnerchannels","sma",{params:{period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1},e(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Keltner Channels",nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],requiredIndicators:["ema","atr"],init:function(){s.prototype.init.apply(this,arguments),this.options=e({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(t,i){var o=i.period,e=i.periodATR,s=i.multiplierATR,l=t.yData;l=l?l.length:0;var h=[];i=a.prototype.getValues(t,{period:o,index:i.index});var p,c=r.prototype.getValues(t,{period:e}),u=[],d=[];if(!(l<o)){for(p=o;p<=l;p++){var f=i.values[p-o],y=c.values[p-e],g=f[0];t=n(f[1]+s*y[1]),y=n(f[1]-s*y[1]),h.push([g,t,f=f[1],y]),u.push(g),d.push([t,f,y])}return{values:h,xData:u,yData:d}}}}))})),i(t,"Stock/Indicators/MACDIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.correctFloat,n=i.defined,e=i.merge,s=t.seriesTypes.sma,a=t.seriesTypes.ema;(i=i.seriesType)("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:t.noop,getColumnMetrics:t.seriesTypes.column.prototype.getColumnMetrics,crispCol:t.seriesTypes.column.prototype.crispCol,init:function(){s.prototype.init.apply(this,arguments),this.options&&(this.options=e({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(t){return[t.y,t.signal,t.MACD]},translate:function(){var i=this,o=["plotSignal","plotMACD"];t.seriesTypes.column.prototype.translate.apply(i),i.points.forEach((function(t){[t.signal,t.MACD].forEach((function(n,e){null!==n&&(t[o[e]]=i.yAxis.toPixels(n,!0))}))}))},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),s.prototype.destroy.apply(this,arguments)},drawPoints:t.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var t,i=this,o=i.points,a=o.length,r=i.options,l=i.zones,h={options:{gapSize:r.gapSize}},p=[[],[]];a--;)n((t=o[a]).plotMACD)&&p[0].push({plotX:t.plotX,plotY:t.plotMACD,isNull:!n(t.plotMACD)}),n(t.plotSignal)&&p[1].push({plotX:t.plotX,plotY:t.plotSignal,isNull:!n(t.plotMACD)});["macd","signal"].forEach((function(t,o){i.points=p[o],i.options=e(r[t+"Line"].styles,h),i.graph=i["graph"+t],i.currentLineZone=t+"Zones",i.zones=i[i.currentLineZone].zones,s.prototype.drawGraph.call(i),i["graph"+t]=i.graph})),i.points=o,i.options=r,i.zones=l,i.currentLineZone=null},getZonesGraphs:function(t){var i=s.prototype.getZonesGraphs.call(this,t),o=i;return this.currentLineZone&&((o=i.splice(this[this.currentLineZone].startIndex+1)).length?o.splice(0,0,t[0]):o=[t[0]]),o},applyZones:function(){var t=this.zones;this.zones=this.signalZones.zones,s.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=t},getValues:function(t,i){var e=0,s=[],r=[],l=[];if(!(t.xData.length<i.longPeriod+i.signalPeriod)){var h=a.prototype.getValues(t,{period:i.shortPeriod}),p=a.prototype.getValues(t,{period:i.longPeriod});for(h=h.values,p=p.values,t=1;t<=h.length;t++)n(p[t-1])&&n(p[t-1][1])&&n(h[t+i.shortPeriod+1])&&n(h[t+i.shortPeriod+1][0])&&s.push([h[t+i.shortPeriod+1][0],0,null,h[t+i.shortPeriod+1][1]-p[t-1][1]]);for(t=0;t<s.length;t++)r.push(s[t][0]),l.push([0,null,s[t][3]]);for(i=(i=a.prototype.getValues({xData:r,yData:l},{period:i.signalPeriod,index:2})).values,t=0;t<s.length;t++)s[t][0]>=i[0][0]&&(s[t][2]=i[e][1],l[t]=[0,i[e][1],s[t][3]],null===s[t][3]?(s[t][1]=0,l[t][0]=0):(s[t][1]=o(s[t][3]-i[e][1]),l[t][0]=o(s[t][3]-i[e][1])),e++);return{values:s,xData:r,yData:l}}}})})),i(t,"Stock/Indicators/MFIIndicator.js",[t["Core/Utilities.js"]],(function(t){function i(t){return t.reduce((function(t,i){return t+i}))}function o(t){return(t[1]+t[2]+t[3])/3}var n=t.error,e=t.isArray;(t=t.seriesType)("mfi","sma",{params:{period:14,volumeSeriesID:"volume",decimals:4}},{nameBase:"Money Flow Index",getValues:function(t,s){var a=s.period,r=t.xData,l=t.yData,h=l?l.length:0,p=s.decimals,c=1,u=t.chart.get(s.volumeSeriesID),d=u&&u.yData,f=[],y=[],g=[],v=[],x=[];if(u){if(!(r.length<=a)&&e(l[0])&&4===l[0].length&&d){for(t=o(l[c]);c<a+1;)s=t,u=(t=o(l[c]))*d[c],v.push((s=t>=s)?u:0),x.push(s?0:u),c++;for(a=c-1;a<h;a++)a>c-1&&(v.shift(),x.shift(),s=t,u=(t=o(l[a]))*d[a],v.push((s=t>s)?u:0),x.push(s?0:u)),s=i(x),s=(u=i(v))/s,s=parseFloat((100-100/(1+s)).toFixed(p)),f.push([r[a],s]),y.push(r[a]),g.push(s);return{values:f,xData:y,yData:g}}}else n("Series "+s.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,t.chart)}})})),i(t,"Stock/Indicators/MomentumIndicator.js",[t["Core/Utilities.js"]],(function(t){function i(t,i,o,n,e){return o=o[n-1][3]-o[n-e-1][3],i=i[n-1],t.shift(),[i,o]}var o=t.isArray;(t=t.seriesType)("momentum","sma",{params:{period:14}},{nameBase:"Momentum",getValues:function(t,n){var e=t.xData,s=(t=t.yData)?t.length:0,a=e[0],r=[],l=[],h=[];if(!(e.length<=(n=n.period))&&o(t[0])){var p=t[0][3];for(p=[[a,p]],a=n+1;a<s;a++){var c=i(p,e,t,a,n);r.push(c),l.push(c[0]),h.push(c[1])}return c=i(p,e,t,a,n),r.push(c),l.push(c[0]),h.push(c[1]),{values:r,xData:l,yData:h}}}})})),i(t,"Stock/Indicators/NATRIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=t.seriesTypes.atr;(i=i.seriesType)("natr","sma",{tooltip:{valueSuffix:"%"}},{requiredIndicators:["atr"],getValues:function(t,i){var n=o.prototype.getValues.apply(this,arguments),e=n.values.length,s=i.period-1,a=t.yData,r=0;if(n){for(;r<e;r++)n.yData[r]=n.values[r][1]/a[s][3]*100,n.values[r][1]=n.yData[r],s++;return n}}})})),i(t,"Stock/Indicators/PivotPointsIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){function o(t,i){var o=t.series.pointArrayMap,n=o.length;for(s.prototype.pointClass.prototype[i].call(t);n--;)t[i="dataLabel"+o[n]]&&t[i].element&&t[i].destroy(),t[i]=null}var n=i.defined,e=i.isArray,s=t.seriesTypes.sma;(i=i.seriesType)("pivotpoints","sma",{params:{period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}},{nameBase:"Pivot Points",pointArrayMap:"R4 R3 R2 R1 P S1 S2 S3 S4".split(" "),pointValKey:"P",toYData:function(t){return[t.P]},translate:function(){var t=this;s.prototype.translate.apply(t),t.points.forEach((function(i){t.pointArrayMap.forEach((function(o){n(i[o])&&(i["plot"+o]=t.yAxis.toPixels(i[o],!0))}))})),t.plotEndPoint=t.xAxis.toPixels(t.endPoint,!0)},getGraphPath:function(t){for(var i,o,e,a=this,r=t.length,l=[[],[],[],[],[],[],[],[],[]],h=[],p=a.plotEndPoint,c=a.pointArrayMap.length;r--;){for(o=t[r],e=0;e<c;e++)n(o[i=a.pointArrayMap[e]])&&l[e].push({plotX:o.plotX,plotY:o["plot"+i],isNull:!1},{plotX:p,plotY:o["plot"+i],isNull:!1},{plotX:p,plotY:null,isNull:!0});p=o.plotX}return l.forEach((function(t){h=h.concat(s.prototype.getGraphPath.call(a,t))})),h},drawDataLabels:function(){var t,i,o,n=this,e=n.pointArrayMap;if(n.options.dataLabels.enabled){var a=n.points.length;e.concat([!1]).forEach((function(r,l){for(o=a;o--;)i=n.points[o],r?(i.y=i[r],i.pivotLine=r,i.plotY=i["plot"+r],t=i["dataLabel"+r],l&&(i["dataLabel"+e[l-1]]=i.dataLabel),i.dataLabels||(i.dataLabels=[]),i.dataLabels[0]=i.dataLabel=t=t&&t.element?t:null):i["dataLabel"+e[l-1]]=i.dataLabel;s.prototype.drawDataLabels.apply(n,arguments)}))}},getValues:function(t,i){var o=i.period,n=t.xData,s=(t=t.yData)?t.length:0;i=this[i.algorithm+"Placement"];var a,r=[],l=[],h=[];if(!(n.length<o)&&e(t[0])&&4===t[0].length){for(a=o+1;a<=s+o;a+=o){var p=n.slice(a-o-1,a),c=t.slice(a-o-1,a),u=p.length,d=p[u-1];c=i(c=this.getPivotAndHLC(c)),c=r.push([d].concat(c)),l.push(d),h.push(r[c-1].slice(1))}return this.endPoint=p[0]+(d-p[0])/u*o,{values:r,xData:l,yData:h}}},getPivotAndHLC:function(t){var i=-1/0,o=1/0,n=t[t.length-1][3];return t.forEach((function(t){i=Math.max(i,t[1]),o=Math.min(o,t[2])})),[(i+o+n)/3,i,o,n]},standardPlacement:function(t){var i=t[1]-t[2];return[null,null,t[0]+i,2*t[0]-t[2],t[0],2*t[0]-t[1],t[0]-i,null,null]},camarillaPlacement:function(t){var i=t[1]-t[2];return[t[3]+1.5*i,t[3]+1.25*i,t[3]+1.1666*i,t[3]+1.0833*i,t[0],t[3]-1.0833*i,t[3]-1.1666*i,t[3]-1.25*i,t[3]-1.5*i]},fibonacciPlacement:function(t){var i=t[1]-t[2];return[null,t[0]+i,t[0]+.618*i,t[0]+.382*i,t[0],t[0]-.382*i,t[0]-.618*i,t[0]-i,null]}},{destroyElements:function(){o(this,"destroyElements")},destroy:function(){o(this,"destroyElements")}})})),i(t,"Stock/Indicators/PPOIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],(function(t,i,o){var n=i.correctFloat,e=i.error,s=t.seriesTypes.ema;(i=i.seriesType)("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var t=arguments,i=this;o.isParentLoaded(s,"ema",i.type,(function(o){o.prototype.init.apply(i,t)}))},getValues:function(t,i){var o=i.periods,a=i.index;i=[];var r,l=[],h=[];if(2!==o.length||o[1]<=o[0])e('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else{var p=s.prototype.getValues.call(this,t,{index:a,period:o[0]});if(t=s.prototype.getValues.call(this,t,{index:a,period:o[1]}),p&&t){for(o=o[1]-o[0],r=0;r<t.yData.length;r++)a=n((p.yData[r+o]-t.yData[r])/t.yData[r]*100),i.push([t.xData[r],a]),l.push(t.xData[r]),h.push(a);return{values:i,xData:l,yData:h}}}}})})),i(t,"Mixins/ReduceArray.js",[],(function(){return{minInArray:function(t,i){return t.reduce((function(t,o){return Math.min(t,o[i])}),Number.MAX_VALUE)},maxInArray:function(t,i){return t.reduce((function(t,o){return Math.max(t,o[i])}),-Number.MAX_VALUE)},getArrayExtremes:function(t,i,o){return t.reduce((function(t,n){return[Math.min(t[0],n[i]),Math.max(t[1],n[o])]}),[Number.MAX_VALUE,-Number.MAX_VALUE])}}})),i(t,"Stock/Indicators/PCIndicator.js",[t["Core/Utilities.js"],t["Mixins/ReduceArray.js"],t["Mixins/MultipleLines.js"]],(function(t,i,o){var n=t.merge,e=i.getArrayExtremes;(t=t.seriesType)("pc","sma",{params:{period:20},lineWidth:1,topLine:{styles:{lineColor:"#90ed7d",lineWidth:1}},bottomLine:{styles:{lineColor:"#f45b5b",lineWidth:1}},dataGrouping:{approximation:"averages"}},n(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],getValues:function(t,i){var o,n=t.xData,s=(t=t.yData)?t.length:0,a=[],r=[],l=[];if(!(s<(i=i.period))){for(o=i;o<=s;o++){var h=n[o-1],p=t.slice(o-i,o),c=e(p,2,1),u=c[0];a.push([h,p=c[1],c=(p+u)/2,u]),r.push(h),l.push([p,c,u])}return{values:a,xData:r,yData:l}}}}))})),i(t,"Stock/Indicators/PriceEnvelopesIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.isArray,n=i.merge,e=t.seriesTypes.sma;(i=i.seriesType)("priceenvelopes","sma",{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle",init:function(){e.prototype.init.apply(this,arguments),this.options=n({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},toYData:function(t){return[t.top,t.middle,t.bottom]},translate:function(){var t=this,i=["plotTop","plotMiddle","plotBottom"];e.prototype.translate.apply(t),t.points.forEach((function(o){[o.top,o.middle,o.bottom].forEach((function(n,e){null!==n&&(o[i[e]]=t.yAxis.toPixels(n,!0))}))}))},drawGraph:function(){for(var t,i=this,o=i.points,s=o.length,a=i.options,r=i.graph,l={options:{gapSize:a.gapSize}},h=[[],[]];s--;)h[0].push({plotX:(t=o[s]).plotX,plotY:t.plotTop,isNull:t.isNull}),h[1].push({plotX:t.plotX,plotY:t.plotBottom,isNull:t.isNull});["topLine","bottomLine"].forEach((function(t,o){i.points=h[o],i.options=n(a[t].styles,l),i.graph=i["graph"+t],e.prototype.drawGraph.call(i),i["graph"+t]=i.graph})),i.points=o,i.options=a,i.graph=r,e.prototype.drawGraph.call(i)},getValues:function(t,i){var n,s=i.period,a=i.topBand,r=i.bottomBand,l=t.xData,h=(t=t.yData)?t.length:0,p=[],c=[],u=[];if(!(l.length<s)&&o(t[0])&&4===t[0].length){for(n=s;n<=h;n++){var d=l.slice(n-s,n),f=t.slice(n-s,n);d=(f=e.prototype.getValues.call(this,{xData:d,yData:f},i)).xData[0];var y=(f=f.yData[0])*(1+a),g=f*(1-r);p.push([d,y,f,g]),c.push(d),u.push([y,f,g])}return{values:p,xData:c,yData:u}}}})})),i(t,"Stock/Indicators/PSARIndicator.js",[t["Core/Utilities.js"]],(function(t){(t=t.seriesType)("psar","sma",{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}},{nameComponents:!1,getValues:function(t,i){var o,n=t.xData,e=(t=t.yData)[0][1],s=i.maxAccelerationFactor,a=i.increment,r=i.initialAccelerationFactor,l=t[0][2],h=i.decimals,p=i.index,c=[],u=[],d=[],f=1;if(!(p>=t.length)){for(o=0;o<p;o++)e=Math.max(t[o][1],e),l=Math.min(t[o][2],parseFloat(l.toFixed(h)));var y=t[o][1]>l?1:-1,g=(i=i.initialAccelerationFactor)*(e-l);for(c.push([n[p],l]),u.push(n[p]),d.push(parseFloat(l.toFixed(h))),o=p+1;o<t.length;o++){p=t[o-1][2];var v=t[o-2][2],x=t[o-1][1],m=t[o-2][1],b=t[o][1],A=t[o][2];null!==v&&null!==m&&null!==p&&null!==x&&null!==b&&null!==A&&(l=y===f?1===y?l+g<Math.min(v,p)?l+g:Math.min(v,p):l+g>Math.max(m,x)?l+g:Math.max(m,x):e,p=1===y?b>e?b:e:A<e?A:e,b=1===f&&A>l||-1===f&&b>l?1:-1,g=p,A=a,v=s,x=r,g=(i=(f=b)===y?1===f&&g>e||-1===f&&g<e?i===v?v:parseFloat((i+A).toFixed(2)):i:x)*(e=p-l),c.push([n[o],parseFloat(l.toFixed(h))]),u.push(n[o]),d.push(parseFloat(l.toFixed(h))),f=y,y=b,e=p)}return{values:c,xData:u,yData:d}}}})})),i(t,"Stock/Indicators/ROCIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.isArray;(t=t.seriesType)("roc","sma",{params:{index:3,period:9}},{nameBase:"Rate of Change",getValues:function(t,o){var n=o.period,e=t.xData,s=(t=t.yData)?t.length:0,a=[],r=[],l=[],h=-1;if(!(e.length<=n)){for(i(t[0])&&(h=o.index),o=n;o<s;o++){var p=0>h?(p=t[o-n])?(t[o]-p)/p*100:null:(p=t[o-n][h])?(t[o][h]-p)/p*100:null;a.push(p=[e[o],p]),r.push(p[0]),l.push(p[1])}return{values:a,xData:r,yData:l}}}})})),i(t,"Stock/Indicators/RSIIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.isArray;(t=t.seriesType)("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(t,o){var n=o.period,e=t.xData,s=(t=t.yData)?t.length:0;o=o.decimals;var a,r=1,l=[],h=[],p=[],c=0,u=0;if(!(e.length<n)&&i(t[0])&&4===t[0].length){for(;r<n;){var d=parseFloat((t[r][3]-t[r-1][3]).toFixed(o));0<d?c+=d:u+=Math.abs(d),r++}var f=parseFloat((c/(n-1)).toFixed(o));for(a=parseFloat((u/(n-1)).toFixed(o));r<s;r++)0<(d=parseFloat((t[r][3]-t[r-1][3]).toFixed(o)))?(c=d,u=0):(c=0,u=Math.abs(d)),f=parseFloat(((f*(n-1)+c)/n).toFixed(o)),c=0===(a=parseFloat(((a*(n-1)+u)/n).toFixed(o)))?100:0===f?0:parseFloat((100-100/(1+f/a)).toFixed(o)),l.push([e[r],c]),h.push(e[r]),p.push(c);return{values:l,xData:h,yData:p}}}})})),i(t,"Stock/Indicators/StochasticIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/ReduceArray.js"],t["Mixins/MultipleLines.js"]],(function(t,i,o,n){var e=i.isArray,s=i.merge,a=t.seriesTypes.sma,r=o.getArrayExtremes;(i=i.seriesType)("stochastic","sma",{params:{periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},s(n,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"],init:function(){a.prototype.init.apply(this,arguments),this.options=s({smoothedLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(t,i){var o=i.periods[0];i=i.periods[1];var n,s=t.xData,l=(t=t.yData)?t.length:0,h=[],p=[],c=[],u=null;if(!(l<o)&&e(t[0])&&4===t[0].length){for(n=o-1;n<l;n++){var d=t.slice(n-o+1,n+1),f=r(d,2,1),y=f[0];d=(d=t[n][3]-y)/(y=f[1]-y)*100,p.push(s[n]),c.push([d,null]),n>=o-1+(i-1)&&(u=(u=a.prototype.getValues.call(this,{xData:p.slice(-i),yData:c.slice(-i)},{period:i})).yData[0]),h.push([s[n],d,u]),c[c.length-1][1]=u}return{values:h,xData:p,yData:c}}}}))})),i(t,"Stock/Indicators/SlowStochasticIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/IndicatorRequired.js"]],(function(t,i,o){var n=t.seriesTypes;(i=i.seriesType)("slowstochastic","stochastic",{params:{periods:[14,3,3]}},{nameBase:"Slow Stochastic",init:function(){var i=arguments,n=this;o.isParentLoaded(t.seriesTypes.stochastic,"stochastic",n.type,(function(t){t.prototype.init.apply(n,i)}))},getValues:function(t,i){var o=i.periods,e=n.stochastic.prototype.getValues.call(this,t,i);if(t={values:[],xData:[],yData:[]},i=0,e){t.xData=e.xData.slice(o[1]-1),e=e.yData.slice(o[1]-1);var s=n.sma.prototype.getValues.call(this,{xData:t.xData,yData:e},{index:1,period:o[2]});if(s){for(var a=t.xData.length;i<a;i++)t.yData[i]=[e[i][1],s.yData[i-o[2]+1]||null],t.values[i]=[t.xData[i],e[i][1],s.yData[i-o[2]+1]||null];return t}}}})})),i(t,"Stock/Indicators/SupertrendIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){function o(t,i,o){return{index:i,close:t.yData[i][o],x:t.xData[i]}}var n=i.correctFloat,e=i.merge,s=i.isArray,a=i.objectEach,r=t.seriesTypes.atr,l=t.seriesTypes.sma;(0,i.seriesType)("supertrend","sma",{params:{multiplier:3,period:10},risingTrendColor:"#06B535",fallingTrendColor:"#F21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}},{nameBase:"Supertrend",nameComponents:["multiplier","period"],requiredIndicators:["atr"],init:function(){l.prototype.init.apply(this,arguments);var t=this.options;t.cropThreshold=this.linkedParent.options.cropThreshold-(t.params.period-1)},drawGraph:function(){var t=this,i=t.options,n=t.linkedParent,s=n?n.points:[],r=t.points,h=t.graph,p=r.length,c=s.length-p;c=0<c?c:0;for(var u,d,f,y,g,v,x,m,b={options:{gapSize:i.gapSize}},A={top:[],bottom:[],intersect:[]},C={top:{styles:{lineWidth:i.lineWidth,lineColor:i.fallingTrendColor||i.color,dashStyle:i.dashStyle}},bottom:{styles:{lineWidth:i.lineWidth,lineColor:i.risingTrendColor||i.color,dashStyle:i.dashStyle}},intersect:i.changeTrendLine};p--;)d=r[p-1],f=s[p-1+c],g=s[p+c],v=s[p+c+1],x=(u=r[p]).options.color,m={x:u.x,plotX:u.plotX,plotY:u.plotY,isNull:!1},!(y=s[p-2+c])&&f&&n.yData[f.index-1]&&(y=o(n,f.index-1,3)),!v&&g&&n.yData[g.index+1]&&(v=o(n,g.index+1,3)),!f&&y&&n.yData[y.index+1]?f=o(n,y.index+1,3):!f&&g&&n.yData[g.index-1]&&(f=o(n,g.index-1,3)),u&&f&&g&&y&&u.x!==f.x&&(u.x===g.x?(y=f,f=g):u.x===y.x?y={close:n.yData[(f=y).index-1][3],x:n.xData[f.index-1]}:v&&u.x===v.x&&(f=v,y=g)),d&&y&&f?(g={x:d.x,plotX:d.plotX,plotY:d.plotY,isNull:!1},u.y>=f.close&&d.y>=y.close?(u.color=x||i.fallingTrendColor||i.color,A.top.push(m)):u.y<f.close&&d.y<y.close?(u.color=x||i.risingTrendColor||i.color,A.bottom.push(m)):(A.intersect.push(m),A.intersect.push(g),A.intersect.push(e(g,{isNull:!0})),u.y>=f.close&&d.y<y.close?(u.color=x||i.fallingTrendColor||i.color,d.color=x||i.risingTrendColor||i.color,A.top.push(m),A.top.push(e(g,{isNull:!0}))):u.y<f.close&&d.y>=y.close&&(u.color=x||i.risingTrendColor||i.color,d.color=x||i.fallingTrendColor||i.color,A.bottom.push(m),A.bottom.push(e(g,{isNull:!0}))))):f&&(u.y>=f.close?(u.color=x||i.fallingTrendColor||i.color,A.top.push(m)):(u.color=x||i.risingTrendColor||i.color,A.bottom.push(m)));a(A,(function(i,o){t.points=i,t.options=e(C[o].styles,b),t.graph=t["graph"+o+"Line"],l.prototype.drawGraph.call(t),t["graph"+o+"Line"]=t.graph})),t.points=r,t.options=i,t.graph=h},getValues:function(t,i){var o=i.period;i=i.multiplier;var e,a=t.xData,l=t.yData,h=[],p=[],c=[],u=0===o?0:o-1,d=[],f=[];if(!(a.length<=o||!s(l[0])||4!==l[0].length||0>o)){for(t=r.prototype.getValues.call(this,t,{period:o}).yData,e=0;e<t.length;e++){var y=l[u+e],g=l[u+e-1]||[],v=d[e-1],x=f[e-1],m=c[e-1];0===e&&(v=x=m=0),o=n((y[1]+y[2])/2+i*t[e]);var b=n((y[1]+y[2])/2-i*t[e]);if(d[e]=o<v||g[3]>v?o:v,f[e]=b>x||g[3]<x?b:x,m===v&&y[3]<d[e]||m===x&&y[3]<f[e])var A=d[e];else(m===v&&y[3]>d[e]||m===x&&y[3]>f[e])&&(A=f[e]);h.push([a[u+e],A]),p.push(a[u+e]),c.push(A)}return{values:h,xData:p,yData:c}}}})})),i(t,"Stock/Indicators/VBPIndicator.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.addEvent,e=o.animObject,s=o.arrayMax,a=o.arrayMin,r=o.correctFloat,l=o.error,h=o.extend,p=o.isArray;o=o.seriesType;var c=Math.abs,u=t.noop,d=t.seriesTypes.column.prototype;o("vbp","sma",{params:{ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}},{nameBase:"Volume by Price",bindTo:{series:!1,eventName:"afterSetExtremes"},calculateOn:"render",markerAttribs:u,drawGraph:u,getColumnMetrics:d.getColumnMetrics,crispCol:d.crispCol,init:function(i){t.seriesTypes.sma.prototype.init.apply(this,arguments);var o=this.options.params,n=this.linkedParent;return o=i.get(o.volumeSeriesID),this.addCustomEvents(n,o),this},addCustomEvents:function(t,i){function o(){e.chart.redraw(),e.setData([]),e.zoneStarts=[],e.zoneLinesSVG&&(e.zoneLinesSVG.destroy(),delete e.zoneLinesSVG)}var e=this;return e.dataEventsToUnbind.push(n(t,"remove",(function(){o()}))),i&&e.dataEventsToUnbind.push(n(i,"remove",(function(){o()}))),e},animate:function(t){var i=this,o=i.chart.inverted,n=i.group,s={};!t&&n&&(t=o?"translateY":"translateX",o=o?i.yAxis.top:i.xAxis.left,n["forceAnimate:"+t]=!0,s[t]=o,n.animate(s,h(e(i.options.animation),{step:function(t,o){i.group.attr({scaleX:Math.max(.001,o.pos)})}})))},drawPoints:function(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),d.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),d.drawPoints.apply(this,arguments)},posNegVolume:function(t,i){var o,n=i?["positive","negative"]:["negative","positive"],e=this.options.volumeDivision,s=this.points.length,a=[],r=[],l=0;for(t?(this.posWidths=a,this.negWidths=r):(a=this.posWidths,r=this.negWidths);l<s;l++){var h=this.points[l];if(h[n[0]+"Graphic"]=h.graphic,h.graphic=h[n[1]+"Graphic"],t){var p=h.shapeArgs.width,c=this.priceZones[l];(o=c.wholeVolumeData)?(a.push(p/o*c.positiveVolumeData),r.push(p/o*c.negativeVolumeData)):(a.push(0),r.push(0))}h.color=i?e.styles.positiveColor:e.styles.negativeColor,h.shapeArgs.width=i?this.posWidths[l]:this.negWidths[l],h.shapeArgs.x=i?h.shapeArgs.x:this.posWidths[l]}},translate:function(){var t,i,o,n=this,e=n.options,a=n.chart,l=n.yAxis,h=l.min,p=n.options.zoneLines,u=n.priceZones,f=0;d.translate.apply(n);var y=n.points;if(y.length){var g=.5>e.pointPadding?e.pointPadding:.1,v=s(e=n.volumeDataArray),x=a.plotWidth/2,m=a.plotTop,b=c(l.toPixels(h)-l.toPixels(h+n.rangeStep)),A=c(l.toPixels(h)-l.toPixels(h+n.rangeStep));g&&(h=c(b*(1-2*g)),f=c((b-h)/2),b=c(h)),y.forEach((function(e,s){i=e.barX=e.plotX=0,o=e.plotY=l.toPixels(u[s].start)-m-(l.reversed?b-A:b)-f,t=r(x*u[s].wholeVolumeData/v),e.pointWidth=t,e.shapeArgs=n.crispCol.apply(n,[i,o,t,b]),e.volumeNeg=u[s].negativeVolumeData,e.volumePos=u[s].positiveVolumeData,e.volumeAll=u[s].wholeVolumeData})),p.enabled&&n.drawZones(a,l,n.zoneStarts,p.styles)}},getValues:function(t,i){var o,n=t.processedXData,e=t.processedYData,s=this.chart,a=i.ranges,r=[],h=[],c=[];if(t.chart)if(o=s.get(i.volumeSeriesID)){if(!(i=p(e[0]))||4===e[0].length)return(this.priceZones=this.specifyZones(i,n,e,a,o)).forEach((function(t,i){r.push([t.x,t.end]),h.push(r[i][0]),c.push(r[i][1])})),{values:r,xData:h,yData:c};l("Type of "+t.name+" series is different than line, OHLC or candlestick.",!0,s)}else l("Series "+i.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s);else l("Base series not found! In case it has been removed, add a new one.",!0,s)},specifyZones:function(t,i,o,n,e){if(t){for(var l,h=o.length,p=o[0][3],c=p,u=1;u<h;u++)(l=o[u][3])<p&&(p=l),l>c&&(c=l);h={min:p,max:c}}else h=!1;h=(p=h)?p.min:a(o),l=p?p.max:s(o),p=this.zoneStarts=[],c=[];var d=0;if(u=1,!h||!l)return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG.destroy()),[];var f=this.rangeStep=r(l-h)/n;for(p.push(h);d<n-1;d++)p.push(r(p[d]+f));for(p.push(l),n=p.length;u<n;u++)c.push({index:u-1,x:i[0],start:p[u-1],end:p[u]});return this.volumePerZone(t,c,e,i,o)},volumePerZone:function(t,i,o,n,e){var s,a,r,l,h,p=this,u=o.processedXData,d=o.processedYData,f=i.length-1,y=e.length;return c(y-(o=d.length))&&(n[0]!==u[0]&&d.unshift(0),n[y-1]!==u[o-1]&&d.push(0)),p.volumeDataArray=[],i.forEach((function(i){for(i.wholeVolumeData=0,i.positiveVolumeData=0,h=i.negativeVolumeData=0;h<y;h++)r=a=!1,l=t?e[h][3]:e[h],s=h?t?e[h-1][3]:e[h-1]:l,l<=i.start&&0===i.index&&(a=!0),l>=i.end&&i.index===f&&(r=!0),(l>i.start||a)&&(l<i.end||r)&&(i.wholeVolumeData+=d[h],s>l?i.negativeVolumeData+=d[h]:i.positiveVolumeData+=d[h]);p.volumeDataArray.push(i.wholeVolumeData)})),i},drawZones:function(t,i,o,n){var e,s=t.renderer,a=this.zoneLinesSVG,r=[],l=t.plotWidth,h=t.plotTop;o.forEach((function(o){e=i.toPixels(o)-h,r=r.concat(t.renderer.crispLine([["M",0,e],["L",l,e]],n.lineWidth))})),a?a.animate({d:r}):a=this.zoneLinesSVG=s.path(r).attr({"stroke-width":n.lineWidth,stroke:n.color,dashstyle:n.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}},{destroy:function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),i.prototype.destroy.apply(this,arguments)}})})),i(t,"Stock/Indicators/VWAPIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.error,o=t.isArray;(t=t.seriesType)("vwap","sma",{params:{period:30,volumeSeriesID:"volume"}},{getValues:function(t,n){var e=t.chart,s=t.xData;t=t.yData;var a,r=n.period,l=!0;if(a=e.get(n.volumeSeriesID))return o(t[0])||(l=!1),this.calculateVWAPValues(l,s,t,a,r);i("Series "+n.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e)},calculateVWAPValues:function(t,i,o,n,e){var s=n.yData,a=n.xData.length,r=i.length;n=[];var l,h=[],p=[],c=[],u=[];for(a=r<=a?r:a,l=r=0;r<a;r++){var d=t?(o[r][1]+o[r][2]+o[r][3])/3:o[r];d*=s[r];var f=l?h[r-1]+s[r]:s[r];n.push(d=l?n[r-1]+d:d),h.push(f),u.push([i[r],d/f]),p.push(u[r][0]),c.push(u[r][1]),++l===e&&(l=0)}return{values:u,xData:p,yData:c}}})})),i(t,"Stock/Indicators/WilliamsRIndicator.js",[t["Core/Utilities.js"],t["Mixins/ReduceArray.js"]],(function(t,i){var o=t.isArray,n=i.getArrayExtremes;(t=t.seriesType)("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(t,i){var e,s=t.xData,a=(t=t.yData)?t.length:0,r=[],l=[],h=[];if(!(s.length<(i=i.period))&&o(t[0])&&4===t[0].length){for(e=i-1;e<a;e++){var p=t.slice(e-i+1,e+1),c=n(p,2,1);p=c[0],p=((c=c[1])-t[e][3])/(c-p)*-100,s[e]&&(r.push([s[e],p]),l.push(s[e]),h.push(p))}return{values:r,xData:l,yData:h}}}})})),i(t,"Stock/Indicators/WMAIndicator.js",[t["Core/Utilities.js"]],(function(t){function i(t,i,o,n){return o=function(t,i){return i*=(i+1)/2,t.reduce((function(t,i,o){return[null,t[1]+i[1]*(o+1)]}))[1]/i}(t,t.length),i=i[n-1],t.shift(),[i,o]}var o=t.isArray;(t=t.seriesType)("wma","sma",{params:{index:3,period:9}},{getValues:function(t,n){var e=n.period,s=t.xData,a=(t=t.yData)?t.length:0,r=1,l=s[0],h=t[0],p=[],c=[],u=[],d=-1;if(!(s.length<e)){for(o(t[0])&&(h=t[0][d=n.index]),n=[[l,h]];r!==e;)n.push([s[r],0>d?t[r]:t[r][d]]),r++;for(e=r;e<a;e++)r=i(n,s,t,e),p.push(r),c.push(r[0]),u.push(r[1]),n.push([s[e],0>d?t[e]:t[e][d]]);return r=i(n,s,t,e),p.push(r),c.push(r[0]),u.push(r[1]),{values:p,xData:c,yData:u}}}})})),i(t,"Stock/Indicators/ZigzagIndicator.js",[t["Core/Utilities.js"]],(function(t){(t=t.seriesType)("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(t,i){var o=i.lowIndex,n=i.highIndex,e=i.deviation/100;i=1+e;var s=1-e;e=t.xData;var a=t.yData;t=a?a.length:0;var r,l,h=[],p=[],c=[],u=!1,d=!1;if(!(!e||1>=e.length||t&&(void 0===a[0][o]||void 0===a[0][n]))){var f=a[0][o],y=a[0][n];for(r=1;r<t;r++){if(a[r][o]<=y*s){h.push([e[0],y]);var g=[e[r],a[r][o]];u=l=!0}else a[r][n]>=f*i&&(h.push([e[0],f]),g=[e[r],a[r][n]],l=!1,u=!0);if(u){p.push(h[0][0]),c.push(h[0][1]);var v=r++;r=t}}for(r=v;r<t;r++)l?(a[r][o]<=g[1]&&(g=[e[r],a[r][o]]),a[r][n]>=g[1]*i&&(d=n)):(a[r][n]>=g[1]&&(g=[e[r],a[r][n]]),a[r][o]<=g[1]*s&&(d=o)),!1!==d&&(h.push(g),p.push(g[0]),c.push(g[1]),g=[e[r],a[r][d]],l=!l,d=!1);return 0!==(o=h.length)&&h[o-1][0]<e[t-1]&&(h.push(g),p.push(g[0]),c.push(g[1])),{values:h,xData:p,yData:c}}}})})),i(t,"Stock/Indicators/RegressionIndicators.js",[t["Core/Utilities.js"]],(function(t){var i=t.isArray;(t=t.seriesType)("linearRegression","sma",{params:{xAxisUnit:void 0},tooltip:{valueDecimals:4}},{nameBase:"Linear Regression Indicator",getRegressionLineParameters:function(t,o){var n=this.options.params.index,e=function(t,o){return i(t)?t[o]:t},s=t.reduce((function(t,i){return i+t}),0),a=o.reduce((function(t,i){return e(i,n)+t}),0);s/=t.length,a/=o.length;var r,l=0,h=0;for(r=0;r<t.length;r++){var p=t[r]-s;l+=p*(e(o[r],n)-a),h+=Math.pow(p,2)}return{slope:t=h?l/h:0,intercept:a-t*s}},getEndPointY:function(t,i){return t.slope*i+t.intercept},transformXData:function(t,i){var o=t[0];return t.map((function(t){return(t-o)/i}))},findClosestDistance:function(t){var i,o;for(o=1;o<t.length-1;o++){var n=t[o]-t[o-1];0<n&&(void 0===i||n<i)&&(i=n)}return i},getValues:function(t,i){var o=t.xData;t=t.yData,i=i.period;var n,e={xData:[],yData:[],values:[]},s=this.options.params.xAxisUnit||this.findClosestDistance(o);for(n=i-1;n<=o.length-1;n++){var a=n-i+1,r=n+1,l=o[n],h=o.slice(a,r);a=t.slice(a,r),r=this.transformXData(h,s),h=this.getRegressionLineParameters(r,a),a=this.getEndPointY(h,r[r.length-1]),e.values.push({regressionLineParameters:h,x:l,y:a}),e.xData.push(l),e.yData.push(a)}return e}}),t("linearRegressionSlope","linearRegression",{},{nameBase:"Linear Regression Slope Indicator",getEndPointY:function(t){return t.slope}}),t("linearRegressionIntercept","linearRegression",{},{nameBase:"Linear Regression Intercept Indicator",getEndPointY:function(t){return t.intercept}}),t("linearRegressionAngle","linearRegression",{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span>{series.name}: <b>{point.y}\xb0</b><br/>'}},{nameBase:"Linear Regression Angle Indicator",slopeToAngle:function(t){return 180/Math.PI*Math.atan(t)},getEndPointY:function(t){return this.slopeToAngle(t.slope)}})})),i(t,"Stock/Indicators/ABIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Mixins/MultipleLines.js"]],(function(t,i,o){var n=i.correctFloat,e=i.merge,s=t.seriesTypes.sma;(i=i.seriesType)("abands","sma",{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},e(o,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Acceleration Bands",nameComponents:["period","factor"],linesApiNames:["topLine","bottomLine"],getValues:function(t,i){var o=i.period,e=i.factor;i=i.index;var a,r=t.xData,l=(t=t.yData)?t.length:0,h=[],p=[],c=[],u=[],d=[];if(!(l<o)){for(a=0;a<=l;a++){if(a<l){var f=t[a][2],y=t[a][1],g=e;f=n(y-f)/(n(y+f)/2)*1e3*g,h.push(t[a][1]*n(1+2*f)),p.push(t[a][2]*n(1-2*f))}if(a>=o){f=r.slice(a-o,a);var v=t.slice(a-o,a);g=s.prototype.getValues.call(this,{xData:f,yData:h.slice(a-o,a)},{period:o}),y=s.prototype.getValues.call(this,{xData:f,yData:p.slice(a-o,a)},{period:o}),v=s.prototype.getValues.call(this,{xData:f,yData:v},{period:o,index:i}),c.push([f=v.xData[0],g=g.yData[0],v=v.yData[0],y=y.yData[0]]),u.push(f),d.push([g,v,y])}}return{values:c,xData:u,yData:d}}}}))})),i(t,"Stock/Indicators/TrendLineIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.isArray;(t=t.seriesType)("trendline","sma",{params:{index:3}},{nameBase:"Trendline",nameComponents:!1,getValues:function(t,o){var n=t.xData,e=t.yData;t=[];var s=[],a=[],r=0,l=0,h=0,p=0,c=n.length,u=o.index;for(o=0;o<c;o++){var d=n[o],f=i(e[o])?e[o][u]:e[o];r+=d,l+=f,h+=d*f,p+=d*d}for(e=(c*h-r*l)/(c*p-r*r),isNaN(e)&&(e=0),r=(l-e*r)/c,o=0;o<c;o++)t[o]=[d=n[o],f=e*d+r],s[o]=d,a[o]=f;return{xData:s,yData:a,values:t}}})})),i(t,"masters/indicators/indicators-all.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/indicators/indicators",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Mixins/IndicatorRequired.js",[t["Core/Utilities.js"]],(function(t){var i=t.error;return{isParentLoaded:function(t,o,n,e,s){return t?!e||e(t):(i(s||this.generateMessage(n,o)),!1)},generateMessage:function(t,i){return'Error: "'+t+'" indicator type requires "'+i+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+t}}})),i(t,"Stock/Indicators/Indicators.js",[t["Core/Globals.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.addEvent,e=o.error,s=o.extend,a=o.isArray,r=o.pick,l=o.seriesType,h=o.splat,p=t.Series,c=t.seriesTypes,u=t.seriesTypes.ohlc.prototype,d=i.generateMessage;n(t.Series,"init",(function(t){(t=t.options).useOhlcData&&"highcharts-navigator-series"!==t.id&&s(this,{pointValKey:u.pointValKey,keys:u.keys,pointArrayMap:u.pointArrayMap,toYData:u.toYData})})),n(p,"afterSetOptions",(function(t){var i=(t=t.options).dataGrouping;i&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(i.approximation="ohlc")})),l("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var t=this.options.compareToMain,i=this.linkedParent;p.prototype.processData.apply(this,arguments),i&&i.compareValue&&t&&(this.compareValue=i.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach((function(i){c[i]?c[i].prototype.requireIndicators():(t.allLoaded=!1,t.needed=i)})),t},init:function(t,i){function o(){var t=s.points||[],i=(s.xData||[]).length,o=s.getValues(s.linkedParent,s.options.params)||{values:[],xData:[],yData:[]},n=[],e=!0;if(i&&!s.hasGroupedData&&s.visible&&s.points)if(s.cropped){if(s.xAxis)var a=s.xAxis.min,r=s.xAxis.max;for(i=s.cropData(o.xData,o.yData,a,r),a=0;a<i.xData.length;a++)n.push([i.xData[a]].concat(h(i.yData[a])));i=o.xData.indexOf(s.xData[0]),a=o.xData.indexOf(s.xData[s.xData.length-1]),-1===i&&a===o.xData.length-2&&n[0][0]===t[0].x&&n.shift(),s.updateData(n)}else o.xData.length!==i-1&&o.xData.length!==i+1&&(e=!1,s.updateData(o.values));e&&(s.xData=o.xData,s.yData=o.yData,s.options.data=o.values),!1===s.bindTo.series&&(delete s.processedXData,s.isDirty=!0,s.redraw()),s.isDirtyData=!1}var s=this,a=s.requireIndicators();if(!a.allLoaded)return e(d(s.type,a.needed));if(p.prototype.init.call(s,t,i),t.linkSeries(),s.dataEventsToUnbind=[],!s.linkedParent)return e("Series "+s.options.linkedTo+" not found! Check `linkedTo`.",!1,t);if(s.dataEventsToUnbind.push(n(s.bindTo.series?s.linkedParent:s.linkedParent.xAxis,s.bindTo.eventName,o)),"init"===s.calculateOn)o();else var r=n(s.chart,s.calculateOn,(function(){o(),r()}));return s},getName:function(){var t=this.name,i=[];return t||((this.nameComponents||[]).forEach((function(t,o){i.push(this.options.params[t]+r(this.nameSuffixes[o],""))}),this),t=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+i.join(", ")+")":"")),t},getValues:function(t,i){var o=i.period,n=t.xData,e=(t=t.yData).length,s=0,r=0,l=[],h=[],p=[],c=-1;if(!(n.length<o)){for(a(t[0])&&(c=i.index?i.index:0);s<o-1;)r+=0>c?t[s]:t[s][c],s++;for(i=s;i<e;i++){var u=[n[i],(r+=0>c?t[i]:t[i][c])/o];l.push(u),h.push(u[0]),p.push(u[1]),r-=0>c?t[i-s]:t[i-s][c]}return{values:l,xData:h,yData:p}}},destroy:function(){this.dataEventsToUnbind.forEach((function(t){t()})),p.prototype.destroy.apply(this,arguments)}})})),i(t,"masters/indicators/indicators.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/indicators/rsi",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Stock/Indicators/RSIIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.isArray;(t=t.seriesType)("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(t,o){var n=o.period,e=t.xData,s=(t=t.yData)?t.length:0;o=o.decimals;var a,r=1,l=[],h=[],p=[],c=0,u=0;if(!(e.length<n)&&i(t[0])&&4===t[0].length){for(;r<n;){var d=parseFloat((t[r][3]-t[r-1][3]).toFixed(o));0<d?c+=d:u+=Math.abs(d),r++}var f=parseFloat((c/(n-1)).toFixed(o));for(a=parseFloat((u/(n-1)).toFixed(o));r<s;r++)0<(d=parseFloat((t[r][3]-t[r-1][3]).toFixed(o)))?(c=d,u=0):(c=0,u=Math.abs(d)),f=parseFloat(((f*(n-1)+c)/n).toFixed(o)),c=0===(a=parseFloat(((a*(n-1)+u)/n).toFixed(o)))?100:0===f?0:parseFloat((100-100/(1+f/a)).toFixed(o)),l.push([e[r],c]),h.push(e[r]),p.push(c);return{values:l,xData:h,yData:p}}}})})),i(t,"masters/indicators/rsi.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/indicators/ema",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Stock/Indicators/EMAIndicator.js",[t["Core/Utilities.js"]],(function(t){var i=t.correctFloat,o=t.isArray;(t=t.seriesType)("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(t,i,o){for(var n=0,e=0;e<t;)n+=0>i?o[e]:o[e][i],e++;return n},calculateEma:function(t,o,n,e,s,a,r){return o=0>a?o[n-1]:o[n-1][a],[t=t[n-1],e=void 0===s?r:i(o*e+s*(1-e))]},getValues:function(t,i){var n=i.period,e=t.xData,s=(t=t.yData)?t.length:0,a=2/(n+1),r=[],l=[],h=[],p=-1;if(!(s<n)){for(o(t[0])&&(p=i.index?i.index:0),i=this.accumulatePeriodPoints(n,p,t),i/=n;n<s+1;n++){var c=this.calculateEma(e,t,n,a,c,p,i);r.push(c),l.push(c[0]),h.push(c[1]),c=c[1]}return{values:r,xData:l,yData:h}}}})})),i(t,"masters/indicators/ema.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/indicators/macd",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Stock/Indicators/MACDIndicator.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.correctFloat,n=i.defined,e=i.merge,s=t.seriesTypes.sma,a=t.seriesTypes.ema;(i=i.seriesType)("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:t.noop,getColumnMetrics:t.seriesTypes.column.prototype.getColumnMetrics,crispCol:t.seriesTypes.column.prototype.crispCol,init:function(){s.prototype.init.apply(this,arguments),this.options&&(this.options=e({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(t){return[t.y,t.signal,t.MACD]},translate:function(){var i=this,o=["plotSignal","plotMACD"];t.seriesTypes.column.prototype.translate.apply(i),i.points.forEach((function(t){[t.signal,t.MACD].forEach((function(n,e){null!==n&&(t[o[e]]=i.yAxis.toPixels(n,!0))}))}))},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),s.prototype.destroy.apply(this,arguments)},drawPoints:t.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var t,i=this,o=i.points,a=o.length,r=i.options,l=i.zones,h={options:{gapSize:r.gapSize}},p=[[],[]];a--;)n((t=o[a]).plotMACD)&&p[0].push({plotX:t.plotX,plotY:t.plotMACD,isNull:!n(t.plotMACD)}),n(t.plotSignal)&&p[1].push({plotX:t.plotX,plotY:t.plotSignal,isNull:!n(t.plotMACD)});["macd","signal"].forEach((function(t,o){i.points=p[o],i.options=e(r[t+"Line"].styles,h),i.graph=i["graph"+t],i.currentLineZone=t+"Zones",i.zones=i[i.currentLineZone].zones,s.prototype.drawGraph.call(i),i["graph"+t]=i.graph})),i.points=o,i.options=r,i.zones=l,i.currentLineZone=null},getZonesGraphs:function(t){var i=s.prototype.getZonesGraphs.call(this,t),o=i;return this.currentLineZone&&((o=i.splice(this[this.currentLineZone].startIndex+1)).length?o.splice(0,0,t[0]):o=[t[0]]),o},applyZones:function(){var t=this.zones;this.zones=this.signalZones.zones,s.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=t},getValues:function(t,i){var e=0,s=[],r=[],l=[];if(!(t.xData.length<i.longPeriod+i.signalPeriod)){var h=a.prototype.getValues(t,{period:i.shortPeriod}),p=a.prototype.getValues(t,{period:i.longPeriod});for(h=h.values,p=p.values,t=1;t<=h.length;t++)n(p[t-1])&&n(p[t-1][1])&&n(h[t+i.shortPeriod+1])&&n(h[t+i.shortPeriod+1][0])&&s.push([h[t+i.shortPeriod+1][0],0,null,h[t+i.shortPeriod+1][1]-p[t-1][1]]);for(t=0;t<s.length;t++)r.push(s[t][0]),l.push([0,null,s[t][3]]);for(i=(i=a.prototype.getValues({xData:r,yData:l},{period:i.signalPeriod,index:2})).values,t=0;t<s.length;t++)s[t][0]>=i[0][0]&&(s[t][2]=i[e][1],l[t]=[0,i[e][1],s[t][3]],null===s[t][3]?(s[t][1]=0,l[t][0]=0):(s[t][1]=o(s[t][3]-i[e][1]),l[t][0]=o(s[t][3]-i[e][1])),e++);return{values:s,xData:r,yData:l}}}})})),i(t,"masters/indicators/macd.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Extensions/DragPanes.js",[t["Core/Globals.js"],t["Core/Axis/Axis.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=t.hasTouch,s=n.addEvent,a=n.clamp,r=n.isNumber,l=n.merge,h=n.objectEach,p=n.relativeLength;n=n.wrap;var c=function(){function t(t){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(t)}return t.prototype.init=function(t,i){this.axis=t,this.options=t.options.resize,this.render(),i||this.addMouseEvents()},t.prototype.render=function(){var t=this.axis,i=t.chart,o=this.options,n=o.x||0,e=o.y,s=a(t.top+t.height+e,i.plotTop,i.plotTop+i.plotHeight),r={};i.styledMode||(r={cursor:o.cursor,stroke:o.lineColor,"stroke-width":o.lineWidth,dashstyle:o.lineDashStyle}),this.lastPos=s-e,this.controlLine||(this.controlLine=i.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),o=i.styledMode?this.controlLine.strokeWidth():o.lineWidth,r.d=i.renderer.crispLine([["M",t.left+n,s],["L",t.left+t.width+n,s]],o),this.controlLine.attr(r)},t.prototype.addMouseEvents=function(){var t,i,o,n=this,a=n.controlLine.element,r=n.axis.chart.container,l=[];n.mouseMoveHandler=t=function(t){n.onMouseMove(t)},n.mouseUpHandler=i=function(t){n.onMouseUp(t)},n.mouseDownHandler=o=function(t){n.onMouseDown(t)},l.push(s(r,"mousemove",t),s(r.ownerDocument,"mouseup",i),s(a,"mousedown",o)),e&&l.push(s(r,"touchmove",t),s(r.ownerDocument,"touchend",i),s(a,"touchstart",o)),n.eventsToUnbind=l},t.prototype.onMouseMove=function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},t.prototype.onMouseUp=function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},t.prototype.onMouseDown=function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},t.prototype.updateAxes=function(t){var i=this,o=i.axis.chart,n=i.options.controlledAxis,e=0===n.next.length?[o.yAxis.indexOf(i.axis)+1]:n.next;n=[i.axis].concat(n.prev);var s=[],l=!1,h=o.plotTop,c=o.plotHeight,u=h+c,d=(t=a(t,h,u))-i.lastPos;1>d*d||([n,e].forEach((function(n,e){n.forEach((function(n,f){var y=(n=r(n)?o.yAxis[n]:e||f?o.get(n):n)&&n.options;if(y&&"navigator-y-axis"!==y.id){f=n.top;var g=Math.round(p(y.minLength,c)),v=Math.round(p(y.maxLength,c));e?(d=t-i.lastPos,y=Math.round(a(n.len-d,g,v)),(f=n.top+d)+y>u&&(t+=v=u-y-f,f+=v),f<h&&(f=h)+y>u&&(y=c),y===g&&(l=!0),s.push({axis:n,options:{top:100*(f-h)/c+"%",height:100*y/c+"%"}})):((y=Math.round(a(t-f,g,v)))===v&&(l=!0),t=f+y,s.push({axis:n,options:{height:100*y/c+"%"}}))}}))})),l||(s.forEach((function(t){t.axis.update(t.options,!1)})),o.redraw(!1)))},t.prototype.destroy=function(){var t=this;delete t.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach((function(t){t()})),t.controlLine.destroy(),h(t,(function(i,o){t[o]=null}))},t.resizerOptions={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}},t}();return i.keepProps.push("resizer"),s(i,"afterRender",(function(){var i=this.resizer,o=this.options.resize;o&&(o=!1!==o.enabled,i?o?i.init(this,!0):i.destroy():o&&(this.resizer=new t.AxisResizer(this)))})),s(i,"destroy",(function(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()})),n(o.prototype,"runPointActions",(function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))})),n(o.prototype,"drag",(function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))})),l(!0,i.defaultYAxisOptions,c.resizerOptions),t.AxisResizer=c,t.AxisResizer})),i(t,"masters/modules/drag-panes.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/annotations-advanced",["highcharts"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Extensions/Annotations/Mixins/EventEmitterMixin.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.addEvent,n=i.fireEvent,e=i.objectEach,s=i.pick,a=i.removeEvent;return{addEvents:function(){var i=this,s=function(n){o(n,t.isTouchDevice?"touchstart":"mousedown",(function(t){i.onMouseDown(t)}))};if(s(this.graphic.element),(i.labels||[]).forEach((function(t){t.options.useHTML&&t.graphic.text&&s(t.graphic.text.element)})),e(i.options.events,(function(t,n){var e=function(o){"click"===n&&i.cancelClick||t.call(i,i.chart.pointer.normalize(o),i.target)};-1===(i.nonDOMEvents||[]).indexOf(n)?i.graphic.on(n,e):o(i,n,e)})),i.options.draggable&&(o(i,"drag",i.onDrag),!i.graphic.renderer.styledMode)){var a={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[i.options.draggable]};i.graphic.css(a),(i.labels||[]).forEach((function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(a)}))}i.isUpdating||n(i,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(i){var e=this,a=e.chart.pointer;if(i.preventDefault&&i.preventDefault(),2!==i.button){var r=(i=a.normalize(i)).chartX,l=i.chartY;e.cancelClick=!1,e.chart.hasDraggedAnnotation=!0,e.removeDrag=o(t.doc,t.isTouchDevice?"touchmove":"mousemove",(function(t){e.hasDragged=!0,(t=a.normalize(t)).prevChartX=r,t.prevChartY=l,n(e,"drag",t),r=t.chartX,l=t.chartY})),e.removeMouseUp=o(t.doc,t.isTouchDevice?"touchend":"mouseup",(function(t){e.cancelClick=e.hasDragged,e.hasDragged=!1,e.chart.hasDraggedAnnotation=!1,n(s(e.target,e),"afterUpdate"),e.onMouseUp(t)}))}},onMouseUp:function(t){var i=this.chart,o=i.options.annotations;i=i.annotations.indexOf(t=this.target||this),this.removeDocEvents(),o[i]=t.options},onDrag:function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop)){var i=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(i.y=0),"y"===this.options.draggable&&(i.x=0),this.points.length?this.translate(i.x,i.y):(this.shapes.forEach((function(t){t.translate(i.x,i.y)})),this.labels.forEach((function(t){t.translate(i.x,i.y)}))),this.redraw(!1)}},mouseMoveToRadians:function(t,i,o){var n=t.prevChartY-o,e=t.prevChartX-i;return o=t.chartY-o,t=t.chartX-i,this.chart.inverted&&(i=e,e=n,n=i,i=t,t=o,o=i),Math.atan2(o,t)-Math.atan2(n,e)},mouseMoveToTranslation:function(t){var i=t.chartX-t.prevChartX;if(t=t.chartY-t.prevChartY,this.chart.inverted){var o=t;t=i,i=o}return{x:i,y:t}},mouseMoveToScale:function(t,i,o){return i=(t.chartX-i||1)/(t.prevChartX-i||1),t=(t.chartY-o||1)/(t.prevChartY-o||1),this.chart.inverted&&(o=t,t=i,i=o),{x:i,y:t}},destroy:function(){this.removeDocEvents(),a(this),this.hcEvents=null}}})),i(t,"Extensions/Annotations/ControlPoint.js",[t["Core/Utilities.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],(function(t,i){var o=t.merge,n=t.pick;return function(){function t(t,o,e,s){this.addEvents=i.addEvents,this.graphic=void 0,this.mouseMoveToRadians=i.mouseMoveToRadians,this.mouseMoveToScale=i.mouseMoveToScale,this.mouseMoveToTranslation=i.mouseMoveToTranslation,this.onDrag=i.onDrag,this.onMouseDown=i.onMouseDown,this.onMouseUp=i.onMouseUp,this.removeDocEvents=i.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=o,this.options=e,this.index=n(e.index,s)}return t.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},t.prototype.render=function(){var t=this.chart,i=this.options;this.graphic=t.renderer.symbol(i.symbol,0,0,i.width,i.height).add(t.controlPointsGroup).css(i.style),this.setVisibility(i.visible),this.addEvents()},t.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},t.prototype.destroy=function(){i.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},t.prototype.update=function(t){var i=this.chart,n=this.target,e=this.index;t=o(!0,this.options,t),this.destroy(),this.constructor(i,n,t,e),this.render(i.controlPointsGroup),this.redraw()},t}()})),i(t,"Extensions/Annotations/MockPoint.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.defined,n=i.fireEvent;return function(){function i(i,o,n){this.y=this.x=this.plotY=this.plotX=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:i,getPlotBox:t.Series.prototype.getPlotBox},this.target=o||null,this.options=n,this.applyOptions(this.getOptions())}return i.fromPoint=function(t){return new i(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},i.pointToPixels=function(t,i){var o=t.series,n=o.chart,e=t.plotX,s=t.plotY;return n.inverted&&(t.mock?(e=t.plotY,s=t.plotX):(e=n.plotWidth-t.plotY,s=n.plotHeight-t.plotX)),o&&!i&&(e+=(t=o.getPlotBox()).translateX,s+=t.translateY),{x:e,y:s}},i.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},i.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},i.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},i.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},i.prototype.setAxis=function(i,n){var e=this.series.chart;this.series[n+="Axis"]=(i=i[n])instanceof t.Axis?i:o(i)?e[n][i]||e.get(i):null},i.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},i.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},i.prototype.isInsidePlot=function(){var t=this.plotX,i=this.plotY,e=this.series.xAxis,s=this.series.yAxis,a={x:t,y:i,isInsidePlot:!0};return e&&(a.isInsidePlot=o(t)&&0<=t&&t<=e.len),s&&(a.isInsidePlot=a.isInsidePlot&&o(i)&&0<=i&&i<=s.len),n(this.series.chart,"afterIsInsidePlot",a),a.isInsidePlot},i.prototype.refresh=function(){var t=this.series,i=t.xAxis;t=t.yAxis;var o=this.getOptions();i?(this.x=o.x,this.plotX=i.toPixels(o.x,!0)):(this.x=null,this.plotX=o.x),t?(this.y=o.y,this.plotY=t.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},i.prototype.translate=function(t,i,o,n){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=n,this.refreshOptions())},i.prototype.scale=function(t,i,o,n){if(!this.hasDynamicOptions()){var e=this.plotY*n;this.plotX=(1-o)*t+this.plotX*o,this.plotY=(1-n)*i+e,this.refreshOptions()}},i.prototype.rotate=function(t,i,o){if(!this.hasDynamicOptions()){var n=Math.cos(o);o=Math.sin(o);var e=this.plotX,s=this.plotY;this.plotX=(e-=t)*n-(s-=i)*o+t,this.plotY=e*o+s*n+i,this.refreshOptions()}},i.prototype.refreshOptions=function(){var t=this.series,i=t.xAxis;t=t.yAxis,this.x=this.options.x=i?this.options.x=i.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY},i}()})),i(t,"Extensions/Annotations/Mixins/ControllableMixin.js",[t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=n.isObject,s=n.isString,a=n.merge,r=n.splat;return{init:function(t,i,o){this.annotation=t,this.chart=t.chart,this.options=i,this.points=[],this.controlPoints=[],this.index=o,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&r(t.point)},attrsFromOptions:function(t){var i,o=this.constructor.attrsMap,n={},e=this.chart.styledMode;for(i in t){var s=o[i];!s||e&&-1!==["fill","stroke","stroke-width"].indexOf(s)||(n[s]=t[i])}return n},anchor:function(t){var i=t.series.getPlotBox();return{relativePosition:t={x:(t=t.mock?t.toAnchor():o.prototype.getAnchor.call({chart:t.series.chart},t))[0]+(this.options.x||0),y:t[1]+(this.options.y||0),height:t[2]||0,width:t[3]||0},absolutePosition:a(t,{x:t.x+i.translateX,y:t.y+i.translateY})}},point:function(t,o){return t&&t.series?t:(o&&null!==o.series||(e(t)?o=new i(this.chart,this,t):s(t)?o=this.chart.get(t)||null:"function"==typeof t&&(o=(o=t.call(o,this)).series?o:new i(this.chart,this,t))),o)},linkPoints:function(){var t,i=this.getPointsOptions(),o=this.points,n=i&&i.length||0;for(t=0;t<n;t++){var e=this.point(i[t],o[t]);if(!e)return void(o.length=0);e.mock&&e.refresh(),o[t]=e}return o},addControlPoints:function(){var i=this.options.controlPoints;(i||[]).forEach((function(o,n){(o=a(this.options.controlPointOptions,o)).index||(o.index=n),i[n]=o,this.controlPoints.push(new t(this.chart,this,o))}),this)},shouldBeDrawn:function(){return!!this.points.length},render:function(t){this.controlPoints.forEach((function(t){t.render()}))},redraw:function(t){this.controlPoints.forEach((function(i){i.redraw(t)}))},transform:function(t,i,o,n,e){if(this.chart.inverted){var s=i;i=o,o=s}this.points.forEach((function(s,a){this.transformPoint(t,i,o,n,e,a)}),this)},transformPoint:function(t,o,n,e,s,a){var r=this.points[a];r.mock||(r=this.points[a]=i.fromPoint(r)),r[t](o,n,e,s)},translate:function(t,i){this.transform("translate",null,null,t,i)},translatePoint:function(t,i,o){this.transformPoint("translate",null,null,t,i,o)},translateShape:function(t,i){var o=this.annotation.chart,n=this.annotation.userOptions,e=o.annotations.indexOf(this.annotation);o=o.options.annotations[e],this.translatePoint(t,i,0),o[this.collection][this.index].point=this.options.point,n[this.collection][this.index].point=this.options.point},rotate:function(t,i,o){this.transform("rotate",t,i,o)},scale:function(t,i,o,n){this.transform("scale",t,i,o,n)},setControlPointsVisibility:function(t){this.controlPoints.forEach((function(i){i.setVisibility(t)}))},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach((function(t){t.destroy()})),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(t){var i=this.annotation;t=a(!0,this.options,t);var o=this.graphic.parentGroup;this.destroy(),this.constructor(i,t),this.render(o),this.redraw()}}})),i(t,"Extensions/Annotations/Mixins/MarkerMixin.js",[t["Core/Chart/Chart.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,i,o){function n(t){return function(i){this.attr(t,"url(#"+i+")")}}var e=o.addEvent,s=o.defined,a=o.merge,r=o.objectEach,l=o.uniqueKey,h={arrow:{tagName:"marker",render:!1,id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 0 L 10 5 L 0 10 Z",strokeWidth:0}]},"reverse-arrow":{tagName:"marker",render:!1,id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 5 L 10 0 L 10 10 Z",strokeWidth:0}]}};return i.prototype.addMarker=function(t,i){var o={id:t},n={stroke:i.color||"none",fill:i.color||"rgba(0, 0, 0, 0.75)"};return o.children=i.children.map((function(t){return a(n,t)})),(i=this.definition(a(!0,{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"},i,o))).id=t,i},i={markerEndSetter:n("marker-end"),markerStartSetter:n("marker-start"),setItemMarkers:function(t){var i=t.options,o=t.chart,n=o.options.defs,e=i.fill,r=s(e)&&"none"!==e?e:i.stroke;["markerStart","markerEnd"].forEach((function(e){var s,h=i[e];if(h){for(s in n){var p=n[s];if(h===p.id&&"marker"===p.tagName){var c=p;break}}c&&(h=t[e]=o.renderer.addMarker((i.id||l())+"-"+c.id,a(c,{color:r})),t.attr(e,h.attr("id")))}}))}},e(t,"afterGetContainer",(function(){this.options.defs=a(h,this.options.defs||{}),r(this.options.defs,(function(t){"marker"===t.tagName&&!1!==t.render&&this.renderer.addMarker(t.id,t)}),this)})),i})),i(t,"Extensions/Annotations/Controllables/ControllablePath.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/Mixins/MarkerMixin.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=n.extend,s="rgba(192,192,192,"+(i.svg?1e-4:.002)+")";return function(){function i(i,n,e){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.setMarkers=o.setItemMarkers,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translate=t.translate,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="path",this.init(i,n,e),this.collection="shapes"}return i.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var i=(t=this.points).length,o=i,n=t[0],e=o&&this.anchor(n).absolutePosition,s=0,a=[];if(e)for(a.push(["M",e.x,e.y]);++s<i&&o;)o=(n=t[s]).command||"L",e=this.anchor(n).absolutePosition,"M"===o||"L"===o?a.push([o,e.x,e.y]):"Z"===o&&a.push([o]),o=n.series.visible;return o?this.chart.renderer.crispLine(a,this.graphic.strokeWidth()):null},i.prototype.shouldBeDrawn=function(){return t.shouldBeDrawn.call(this)||!!this.options.d},i.prototype.render=function(i){var n=this.options,a=this.attrsFromOptions(n);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(a).add(i),n.className&&this.graphic.addClass(n.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(i),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:s,fill:s,"stroke-width":this.graphic.strokeWidth()+2*n.snap}),t.render.call(this),e(this.graphic,{markerStartSetter:o.markerStartSetter,markerEndSetter:o.markerEndSetter}),this.setMarkers(this)},i.prototype.redraw=function(i){var o=this.toD(),n=i?"animate":"attr";o?(this.graphic[n]({d:o}),this.tracker[n]({d:o})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!o,t.redraw.call(this,i)},i.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},i}()})),i(t,"Extensions/Annotations/Controllables/ControllableRect.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.merge;return function(){function o(i,o,n){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="rect",this.translate=t.translateShape,this.init(i,o,n),this.collection="shapes"}return o.prototype.render=function(i){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(o).add(i),t.render.call(this)},o.prototype.redraw=function(i){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[i?"animate":"attr"]({x:o.x,y:o.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!o,t.redraw.call(this,i)},o.attrsMap=n(i.attrsMap,{width:"width",height:"height"}),o}()})),i(t,"Extensions/Annotations/Controllables/ControllableCircle.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.merge;return function(){function o(i,o,n){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="circle",this.translate=t.translateShape,this.init(i,o,n),this.collection="shapes"}return o.prototype.render=function(i){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(o).add(i),t.render.call(this)},o.prototype.redraw=function(i){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[i?"animate":"attr"]({x:o.x,y:o.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!o,t.redraw.call(this,i)},o.prototype.setRadius=function(t){this.options.r=t},o.attrsMap=n(i.attrsMap,{r:"r"}),o}()})),i(t,"Extensions/Annotations/Controllables/ControllableLabel.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,i,o,n,e){var s=e.extend,a=e.format,r=e.isNumber,l=e.pick;return e=function(){function o(i,o,n){this.addControlPoints=t.addControlPoints,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translateShape=t.translateShape,this.update=t.update,this.init(i,o,n),this.collection="labels"}return o.alignedPosition=function(t,i){var o,n,e=t.align,s=t.verticalAlign,a=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0);return"right"===e?o=1:"center"===e&&(o=2),o&&(a+=(i.width-(t.width||0))/o),"bottom"===s?n=1:"middle"===s&&(n=2),n&&(r+=(i.height-(t.height||0))/n),{x:Math.round(a),y:Math.round(r)}},o.justifiedOptions=function(t,i,o,n){var e=o.align,s=o.verticalAlign,a=i.box?0:i.padding||0,r=i.getBBox();i={align:e,verticalAlign:s,x:o.x,y:o.y,width:i.width,height:i.height};var l=n.y-t.plotTop;return 0>(n=(o=n.x-t.plotLeft)+a)&&("right"===e?i.align="left":i.x=-n),(n=o+r.width-a)>t.plotWidth&&("left"===e?i.align="right":i.x=t.plotWidth-n),0>(n=l+a)&&("bottom"===s?i.verticalAlign="top":i.y=-n),(n=l+r.height-a)>t.plotHeight&&("top"===s?i.verticalAlign="bottom":i.y=t.plotHeight-n),i},o.prototype.translatePoint=function(i,o){t.translatePoint.call(this,i,o,0)},o.prototype.translate=function(t,i){var o=this.annotation.chart,n=this.annotation.userOptions,e=o.annotations.indexOf(this.annotation);e=o.options.annotations[e],o.inverted&&(o=t,t=i,i=o),this.options.x+=t,this.options.y+=i,e[this.collection][this.index].x=this.options.x,e[this.collection][this.index].y=this.options.y,n[this.collection][this.index].x=this.options.x,n[this.collection][this.index].y=this.options.y},o.prototype.render=function(i){var n=this.options,e=this.attrsFromOptions(n),s=n.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,n.shape,null,null,n.useHTML,null,"annotation-label").attr(e).add(i),this.annotation.chart.styledMode||("contrast"===s.color&&(s.color=this.annotation.chart.renderer.getContrast(-1<o.shapesWithoutBackground.indexOf(n.shape)?"#FFFFFF":n.backgroundColor)),this.graphic.css(n.style).shadow(n.shadow)),n.className&&this.graphic.addClass(n.className),this.graphic.labelrank=n.labelrank,t.render.call(this)},o.prototype.redraw=function(i){var o=this.options,n=this.text||o.format||o.text,e=this.graphic,s=this.points[0];e.attr({text:n?a(n,s.getLabelConfig(),this.annotation.chart):o.formatter.call(s,this)}),o=this.anchor(s),(n=this.position(o))?(e.alignAttr=n,n.anchorX=o.absolutePosition.x,n.anchorY=o.absolutePosition.y,e[i?"animate":"attr"](n)):e.attr({x:0,y:-9999}),e.placed=!!n,t.redraw.call(this,i)},o.prototype.anchor=function(i){var o=t.anchor.apply(this,arguments),n=this.options.x||0,e=this.options.y||0;return o.absolutePosition.x-=n,o.absolutePosition.y-=e,o.relativePosition.x-=n,o.relativePosition.y-=e,o},o.prototype.position=function(t){var e=this.graphic,a=this.annotation.chart,r=this.points[0],h=this.options,p=t.absolutePosition,c=t.relativePosition;if(t=r.series.visible&&i.prototype.isInsidePlot.call(r)){if(h.distance)var u=n.prototype.getPosition.call({chart:a,distance:l(h.distance,16)},e.width,e.height,{plotX:c.x,plotY:c.y,negative:r.negative,ttBelow:r.ttBelow,h:c.height||c.width});else h.positioner?u=h.positioner.call(this):(r={x:p.x,y:p.y,width:0,height:0},u=o.alignedPosition(s(h,{width:e.width,height:e.height}),r),"justify"===this.options.overflow&&(u=o.alignedPosition(o.justifiedOptions(a,e,h,u),r)));h.crop&&(t=a.isInsidePlot(h=u.x-a.plotLeft,r=u.y-a.plotTop)&&a.isInsidePlot(h+e.width,r+e.height))}return t?u:null},o.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},o.shapesWithoutBackground=["connector"],o}(),o.prototype.symbols.connector=function(t,i,o,n,e){var s=e&&e.anchorX;e=e&&e.anchorY;var a=o/2;if(r(s)&&r(e)){var l=[["M",s,e]],h=i-e;0>h&&(h=-n-h),h<o&&(a=s<t+o/2?h:o-h),e>i+n?l.push(["L",t+a,i+n]):e<i?l.push(["L",t+a,i]):s<t?l.push(["L",t,i+n/2]):s>t+o&&l.push(["L",t+o,i+n/2])}return l||[]},e})),i(t,"Extensions/Annotations/Controllables/ControllableImage.js",[t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"]],(function(t,i){return function(){function o(t,o,n){this.addControlPoints=i.addControlPoints,this.anchor=i.anchor,this.attr=i.attr,this.attrsFromOptions=i.attrsFromOptions,this.destroy=i.destroy,this.getPointsOptions=i.getPointsOptions,this.init=i.init,this.linkPoints=i.linkPoints,this.point=i.point,this.rotate=i.rotate,this.scale=i.scale,this.setControlPointsVisibility=i.setControlPointsVisibility,this.shouldBeDrawn=i.shouldBeDrawn,this.transform=i.transform,this.transformPoint=i.transformPoint,this.translatePoint=i.translatePoint,this.translateShape=i.translateShape,this.update=i.update,this.type="image",this.translate=i.translateShape,this.init(t,o,n),this.collection="shapes"}return o.prototype.render=function(t){var o=this.attrsFromOptions(this.options),n=this.options;this.graphic=this.annotation.chart.renderer.image(n.src,0,-9e9,n.width,n.height).attr(o).add(t),this.graphic.width=n.width,this.graphic.height=n.height,i.render.call(this)},o.prototype.redraw=function(o){var n=this.anchor(this.points[0]);(n=t.prototype.position.call(this,n))?this.graphic[o?"animate":"attr"]({x:n.x,y:n.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!n,i.redraw.call(this,o)},o.attrsMap={width:"width",height:"height",zIndex:"zIndex"},o}()})),i(t,"Extensions/Annotations/Annotations.js",[t["Core/Chart/Chart.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllableRect.js"],t["Extensions/Annotations/Controllables/ControllableCircle.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Extensions/Annotations/Controllables/ControllableImage.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,i,o,n,e,s,a,r,l,h,p,c,u){t=t.prototype;var d=u.addEvent,f=u.defined,y=u.destroyObjectProperties,g=u.erase,v=u.extend,x=u.find,m=u.fireEvent,b=u.getDeferredAnimation,A=u.merge,C=u.pick,P=u.splat;u=u.wrap;var k=function(){function t(t,i){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=A(this.defaultOptions,i),this.userOptions=i,i=this.getLabelsAndShapesOptions(this.options,i),this.options.labels=i.labels,this.options.shapes=i.shapes,this.init(t,this.options)}return t.prototype.init=function(){var t=this.chart,i=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=b(t,i)},t.prototype.getLabelsAndShapesOptions=function(t,i){var o={};return["labels","shapes"].forEach((function(n){t[n]&&(o[n]=P(i[n]).map((function(i,o){return A(t[n][o],i)})))})),o},t.prototype.addShapes=function(){(this.options.shapes||[]).forEach((function(t,i){t=this.initShape(t,i),A(!0,this.options.shapes[i],t.options)}),this)},t.prototype.addLabels=function(){(this.options.labels||[]).forEach((function(t,i){t=this.initLabel(t,i),A(!0,this.options.labels[i],t.options)}),this)},t.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},t.prototype.setClipAxes=function(){var t=this.chart.xAxis,i=this.chart.yAxis,o=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((function(o,n){return[t[n&&n.point&&n.point.xAxis]||o[0],i[n&&n.point&&n.point.yAxis]||o[1]]}),[]);this.clipXAxis=o[0],this.clipYAxis=o[1]},t.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},t.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce((function(t,i){return i.options.allowOverlap||t.push(i.graphic),t}),[])},t.chart.labelCollectors.push(t.labelCollector)},t.prototype.setOptions=function(t){this.options=A(this.defaultOptions,t)},t.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),i.redraw.call(this,t)},t.prototype.redrawItems=function(t,i){for(var o=t.length;o--;)this.redrawItem(t[o],i)},t.prototype.renderItems=function(t){for(var i=t.length;i--;)this.renderItem(t[i])},t.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),i.render.call(this)},t.prototype.setVisibility=function(t){var i=this.options;t=C(t,!i.visible),this.graphic.attr("visibility",t?"visible":"hidden"),t||this.setControlPointsVisibility(!1),i.visible=t},t.prototype.setControlPointsVisibility=function(t){var o=function(i){i.setControlPointsVisibility(t)};i.setControlPointsVisibility.call(this,t),this.shapes.forEach(o),this.labels.forEach(o)},t.prototype.destroy=function(){var t=this.chart,o=function(t){t.destroy()};this.labels.forEach(o),this.shapes.forEach(o),this.clipYAxis=this.clipXAxis=null,g(t.labelCollectors,this.labelCollector),l.destroy.call(this),i.destroy.call(this),y(this,t)},t.prototype.remove=function(){return this.chart.removeAnnotation(this)},t.prototype.update=function(t,i){var o=this.chart,n=this.getLabelsAndShapesOptions(this.userOptions,t),e=o.annotations.indexOf(this);(t=A(!0,this.userOptions,t)).labels=n.labels,t.shapes=n.shapes,this.destroy(),this.constructor(o,t),o.options.annotations[e]=t,this.isUpdating=!0,C(i,!0)&&o.redraw(),m(this,"afterUpdate"),this.isUpdating=!1},t.prototype.initShape=function(i,o){return i=A(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},i),(o=new t.shapesMap[i.type](this,i,o)).itemType="shape",this.shapes.push(o),o},t.prototype.initLabel=function(t,i){return t=A(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(i=new a(this,t,i)).itemType="label",this.labels.push(i),i},t.prototype.redrawItem=function(t,i){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(C(i,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},t.prototype.adjustVisibility=function(t){var i=!1,o=t.graphic;t.points.forEach((function(t){!1!==t.series.visible&&!1!==t.visible&&(i=!0)})),i?"hidden"===o.visibility&&o.show():o.hide()},t.prototype.destroyItem=function(t){g(this[t.itemType+"s"],t),t.destroy()},t.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},t.ControlPoint=r,t.MockPoint=p,t.shapesMap={rect:o,circle:n,path:e,image:s},t.types={},t}();return A(!0,k.prototype,i,l,A(k.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"black",borderRadius:3,borderWidth:1,className:"",crop:!1,formatter:function(){return f(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{stroke:"black","stroke-width":2,fill:"white"},visible:!1,events:{}},events:{},zIndex:6}})),h.extendAnnotation=function(t,i,o,n){A(!0,t.prototype,(i=i||k).prototype,o),t.prototype.defaultOptions=A(t.prototype.defaultOptions,n||{})},v(t,{initAnnotation:function(t){return t=new(k.types[t.type]||k)(this,t),this.annotations.push(t),t},addAnnotation:function(t,i){return t=this.initAnnotation(t),this.options.annotations.push(t.options),C(i,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t},removeAnnotation:function(t){var i=this.annotations,o="annotations"===t.coll?t:x(i,(function(i){return i.options.id===t}));o&&(m(o,"remove"),g(this.options.annotations,o.options),g(i,o),o.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)}))}}),t.collectionsWithUpdate.push("annotations"),t.collectionsWithInit.annotations=[t.addAnnotation],t.callbacks.push((function(t){t.annotations=[],t.options.annotations||(t.options.annotations=[]),t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach((function(i,o){i=t.initAnnotation(i),t.options.annotations[o]=i.options})),t.drawAnnotations(),d(t,"redraw",t.drawAnnotations),d(t,"destroy",(function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()})),d(t,"exportData",(function(i){var o,n,e,s,a,r,l,h,p=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,c=!i.dataRows[1].xValues,u=null===(n=null===(o=t.options.lang)||void 0===o?void 0:o.exportData)||void 0===n?void 0:n.annotationHeader;o=function(t){if(p){var i=p(t);if(!1!==i)return i}return i=u+" "+t,c?{columnTitle:i,topLevelColumnTitle:i}:i};var d=i.dataRows[0].length,f=null===(a=null===(s=null===(e=t.options.exporting)||void 0===e?void 0:e.csv)||void 0===s?void 0:s.annotations)||void 0===a?void 0:a.itemDelimiter,y=null===(h=null===(l=null===(r=t.options.exporting)||void 0===r?void 0:r.csv)||void 0===l?void 0:l.annotations)||void 0===h?void 0:h.join;t.annotations.forEach((function(t){t.options.labelOptions.includeInDataExport&&t.labels.forEach((function(t){if(t.options.text){var o=t.options.text;t.points.forEach((function(t){var n=t.x,e=t.series.xAxis?t.series.xAxis.options.index:-1,s=!1;if(-1===e){t=i.dataRows[0].length;for(var a=Array(t),r=0;r<t;++r)a[r]="";a.push(o),a.xValues=[],a.xValues[e]=n,i.dataRows.push(a),s=!0}if(s||i.dataRows.forEach((function(t,i){!s&&t.xValues&&void 0!==e&&n===t.xValues[e]&&(y&&t.length>d?t[t.length-1]+=f+o:t.push(o),s=!0)})),!s){for(t=i.dataRows[0].length,a=Array(t),r=0;r<t;++r)a[r]="";a[0]=n,a.push(o),a.xValues=[],void 0!==e&&(a.xValues[e]=n),i.dataRows.push(a)}}))}}))}));var g=0;for(i.dataRows.forEach((function(t){g=Math.max(g,t.length)})),e=g-i.dataRows[0].length,s=0;s<e;s++)a=o(s+1),c?(i.dataRows[0].push(a.topLevelColumnTitle),i.dataRows[1].push(a.columnTitle)):i.dataRows[0].push(a)}))})),u(c.prototype,"onContainerMouseDown",(function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))})),h.Annotation=k})),i(t,"Extensions/Annotations/Types/BasicAnnotation.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(i,o)};return function(i,o){function n(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();o=o.merge;var e=function(o){function e(t,i){return o.call(this,t,i)||this}return n(e,o),e.prototype.addControlPoints=function(){var t=this.options,i=e.basicControlPoints,o=this.basicType;(t.labels||t.shapes).forEach((function(t){t.controlPoints=i[o]}))},e.prototype.init=function(){var i=this.options;i.shapes?(delete i.labelOptions,this.basicType="circle"===i.shapes[0].type?"circle":"rectangle"):(delete i.shapes,this.basicType="label"),t.prototype.init.apply(this,arguments)},e.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(t){return t.graphic.placed?{x:(t=i.pointToPixels(t.points[0])).x-this.graphic.width/2,y:t.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(t,i){t=this.mouseMoveToTranslation(t),i.translatePoint(t.x,t.y),i.annotation.userOptions.labels[0].point=i.options.point,i.redraw(!1)}}},{symbol:"square",positioner:function(t){return t.graphic.placed?{x:t.graphic.alignAttr.x-this.graphic.width/2,y:t.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(t,i){t=this.mouseMoveToTranslation(t),i.translate(t.x,t.y),i.annotation.userOptions.labels[0].point=i.options.point,i.redraw(!1)}}}],rectangle:[{positioner:function(t){return{x:(t=i.pointToPixels(t.points[2])).x-4,y:t.y-4}},events:{drag:function(t,i){var o=i.annotation,n=this.chart.pointer.getCoordinates(t);t=n.xAxis[0].value,n=n.yAxis[0].value;var e=i.options.points;e[1].x=t,e[2].x=t,e[2].y=n,e[3].y=n,o.userOptions.shapes[0].points=i.options.points,o.redraw(!1)}}}],circle:[{positioner:function(t){var o=i.pointToPixels(t.points[0]);return{x:o.x+(t=t.options.r)*Math.cos(Math.PI/4)-this.graphic.width/2,y:o.y+t*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(t,i){var o=i.annotation;t=this.mouseMoveToTranslation(t),i.setRadius(Math.max(i.options.r+t.y/Math.sin(Math.PI/4),5)),o.userOptions.shapes[0].r=i.options.r,o.userOptions.shapes[0].point=i.options.point,i.redraw(!1)}}}]},e}(t);return e.prototype.defaultOptions=o(t.prototype.defaultOptions,{}),t.types.basicAnnotation=e})),i(t,"Extensions/Annotations/Types/CrookedLine.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(i,o)};return function(i,o){function n(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=n.merge;return(n=function(t){function o(i,o){return t.call(this,i,o)||this}return e(o,t),o.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},o.prototype.getPointsOptions=function(){var t=this.options.typeOptions;return(t.points||[]).map((function(i){return i.xAxis=t.xAxis,i.yAxis=t.yAxis,i}))},o.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},o.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach((function(t,o){o=new i(this.chart,this,s(this.options.controlPointOptions,t.controlPoint),o),this.controlPoints.push(o),t.controlPoint=o.options}),this)},o.prototype.addShapes=function(){var t=this.options.typeOptions,i=this.initShape(s(t.line,{type:"path",points:this.points.map((function(t,i){return function(t){return t.annotation.points[i]}}))}),!1);t.line=i.options},o}(t)).prototype.defaultOptions=s(t.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(t){var i=this.graphic;return{x:(t=o.pointToPixels(t.points[this.index])).x-i.width/2,y:t.y-i.height/2}},events:{drag:function(t,i){i.chart.isInsidePlot(t.chartX-i.chart.plotLeft,t.chartY-i.chart.plotTop)&&(t=this.mouseMoveToTranslation(t),i.translatePoint(t.x,t.y,this.index),i.options.typeOptions.points[this.index].x=i.points[this.index].x,i.options.typeOptions.points[this.index].y=i.points[this.index].y,i.redraw(!1))}}}}),t.types.crookedLine=n})),i(t,"Extensions/Annotations/Types/ElliottWave.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(i,o)};return function(i,o){function n(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),e=o.merge;return(o=function(t){function i(i,o){return t.call(this,i,o)||this}return n(i,t),i.prototype.addLabels=function(){this.getPointsOptions().forEach((function(t,i){var o=this.initLabel(e(t.label,{text:this.options.typeOptions.labels[i],point:function(t){return t.annotation.points[i]}}),!1);t.label=o.options}),this)},i}(i)).prototype.defaultOptions=e(i.prototype.defaultOptions,{typeOptions:{labels:"(0) (A) (B) (C) (D) (E)".split(" "),line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),t.types.elliottWave=o})),i(t,"Extensions/Annotations/Types/Tunnel.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,i,o,n,e){var s,a=this&&this.__extends||(s=function(t,i){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),r=e.merge;return(e=function(t){function e(i,o){return t.call(this,i,o)||this}return a(e,t),e.prototype.getPointsOptions=function(){var t=o.prototype.getPointsOptions.call(this);return t[2]=this.heightPointOptions(t[1]),t[3]=this.heightPointOptions(t[0]),t},e.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},e.prototype.heightPointOptions=function(t){return(t=r(t)).y+=this.options.typeOptions.height,t},e.prototype.addControlPoints=function(){o.prototype.addControlPoints.call(this);var t=this.options,n=t.typeOptions;t=new i(this.chart,this,r(t.controlPointOptions,n.heightControlPoint),2),this.controlPoints.push(t),n.heightControlPoint=t.options},e.prototype.addShapes=function(){this.addLine(),this.addBackground()},e.prototype.addLine=function(){var t=this.initShape(r(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(t){return(t=n.pointToOptions(t.annotation.points[2])).command="M",t},this.points[3]]}),!1);this.options.typeOptions.line=t.options},e.prototype.addBackground=function(){var t=this.initShape(r(this.options.typeOptions.background,{type:"path",points:this.points.slice()}));this.options.typeOptions.background=t.options},e.prototype.translateSide=function(t,i,o){var n=0===(o=Number(o))?3:2;this.translatePoint(t,i,o),this.translatePoint(t,i,n)},e.prototype.translateHeight=function(t){this.translatePoint(0,t,2),this.translatePoint(0,t,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y},e}(o)).prototype.defaultOptions=r(o.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(t){var i=n.pointToPixels(t.points[2]);t=n.pointToPixels(t.points[3]);var o=(i.x+t.x)/2;return{x:o-this.graphic.width/2,y:(t.y-i.y)/(t.x-i.x)*(o-i.x)+i.y-this.graphic.height/2}},events:{drag:function(t,i){i.chart.isInsidePlot(t.chartX-i.chart.plotLeft,t.chartY-i.chart.plotTop)&&(i.translateHeight(this.mouseMoveToTranslation(t).y),i.redraw(!1))}}}},controlPointOptions:{events:{drag:function(t,i){i.chart.isInsidePlot(t.chartX-i.chart.plotLeft,t.chartY-i.chart.plotTop)&&(t=this.mouseMoveToTranslation(t),i.translateSide(t.x,t.y,this.index),i.redraw(!1))}}}}),t.types.tunnel=e})),i(t,"Extensions/Annotations/Types/InfinityLine.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(i,o)};return function(i,o){function n(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=n.merge;return(n=function(t){function i(i,o){return t.call(this,i,o)||this}return e(i,t),i.edgePoint=function(t,n){return function(e){var s=(e=e.annotation).points,a=e.options.typeOptions.type;return"horizontalLine"===a?s=[s[0],new o(e.chart,s[0].target,{x:s[0].x+1,y:s[0].y,xAxis:s[0].options.xAxis,yAxis:s[0].options.yAxis})]:"verticalLine"===a&&(s=[s[0],new o(e.chart,s[0].target,{x:s[0].x,y:s[0].y+1,xAxis:s[0].options.xAxis,yAxis:s[0].options.yAxis})]),i.findEdgePoint(s[t],s[n])}},i.findEdgeCoordinate=function(t,i,o,n){var e="x"===o?"y":"x";return(i[o]-t[o])*(n-t[e])/(i[e]-t[e])+t[o]},i.findEdgePoint=function(t,n){var e=t.series.xAxis,s=n.series.yAxis,a=o.pointToPixels(t),r=o.pointToPixels(n),l=r.x-a.x,h=r.y-a.y,p=(n=e.left)+e.width;s=(e=s.top)+s.height;var c=0>l?n:p,u=0>h?e:s;return p={x:0===l?a.x:c,y:0===h?a.y:u},0!==l&&0!==h&&(l=i.findEdgeCoordinate(a,r,"y",c),a=i.findEdgeCoordinate(a,r,"x",u),l>=e&&l<=s?(p.x=c,p.y=l):(p.x=a,p.y=u)),p.x-=n,p.y-=e,t.series.chart.inverted&&(t=p.x,p.x=p.y,p.y=t),p},i.prototype.addShapes=function(){var t=this.options.typeOptions,o=[this.points[0],i.endEdgePoint];t.type.match(/Line/g)&&(o[0]=i.startEdgePoint),o=this.initShape(s(t.line,{type:"path",points:o}),!1),t.line=o.options},i.endEdgePoint=i.edgePoint(0,1),i.startEdgePoint=i.edgePoint(1,0),i}(i)).prototype.defaultOptions=s(i.prototype.defaultOptions,{}),t.types.infinityLine=n})),i(t,"Extensions/Annotations/Types/Fibonacci.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/MockPoint.js"],t["Extensions/Annotations/Types/Tunnel.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e,s=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),a=n.merge,r=function(t,i){return function(){var o=this.annotation,n=this.anchor(o.startRetracements[t]).absolutePosition,e=this.anchor(o.endRetracements[t]).absolutePosition;return n=[["M",Math.round(n.x),Math.round(n.y)],["L",Math.round(e.x),Math.round(e.y)]],i&&(e=this.anchor(o.endRetracements[t-1]).absolutePosition,o=this.anchor(o.startRetracements[t-1]).absolutePosition,n.push(["L",Math.round(e.x),Math.round(e.y)],["L",Math.round(o.x),Math.round(o.y)])),n}};return(n=function(t){function o(i,o){return t.call(this,i,o)||this}return s(o,t),o.prototype.linkPoints=function(){t.prototype.linkPoints.call(this),this.linkRetracementsPoints()},o.prototype.linkRetracementsPoints=function(){var t=this.points,i=t[0].y-t[3].y,n=t[1].y-t[2].y,e=t[0].x,s=t[1].x;o.levels.forEach((function(o,a){var r=t[0].y-i*o;o=t[1].y-n*o,this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(a,e,r,this.startRetracements),this.linkRetracementPoint(a,s,o,this.endRetracements)}),this)},o.prototype.linkRetracementPoint=function(t,o,n,e){var s=e[t],a=this.options.typeOptions;s?(s.options.x=o,s.options.y=n,s.refresh()):e[t]=new i(this.chart,this,{x:o,y:n,xAxis:a.xAxis,yAxis:a.yAxis})},o.prototype.addShapes=function(){o.levels.forEach((function(t,i){this.initShape({type:"path",d:r(i)},!1),0<i&&this.initShape({type:"path",fill:this.options.typeOptions.backgroundColors[i-1],strokeWidth:0,d:r(i,!0)})}),this)},o.prototype.addLabels=function(){o.levels.forEach((function(t,o){var n=this.options.typeOptions;t=this.initLabel(a(n.labels[o],{point:function(t){return i.pointToOptions(t.annotation.startRetracements[o])},text:t.toString()})),n.labels[o]=t.options}),this)},o.levels=[0,.236,.382,.5,.618,.786,1],o}(o)).prototype.defaultOptions=a(o.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:"rgba(130, 170, 255, 0.4);rgba(139, 191, 216, 0.4);rgba(150, 216, 192, 0.4);rgba(156, 229, 161, 0.4);rgba(162, 241, 130, 0.4);rgba(169, 255, 101, 0.4)".split(";"),lineColor:"grey",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),t.types.fibonacci=n})),i(t,"Extensions/Annotations/Types/Pitchfork.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/Types/InfinityLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(i,o)};return function(i,o){function n(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=n.merge;return(n=function(t){function n(i,o){return t.call(this,i,o)||this}return e(n,t),n.outerLineEdgePoint=function(t){return function(i){var e=i.annotation,s=e.points;return n.findEdgePoint(s[t],s[0],new o(e.chart,i,e.midPointOptions()))}},n.findEdgePoint=function(t,i,o){return i=Math.atan2(o.plotY-i.plotY,o.plotX-i.plotX),{x:t.plotX+1e7*Math.cos(i),y:t.plotY+1e7*Math.sin(i)}},n.middleLineEdgePoint=function(t){var n=t.annotation;return i.findEdgePoint(n.points[0],new o(n.chart,t,n.midPointOptions()))},n.prototype.midPointOptions=function(){var t=this.points;return{x:(t[1].x+t[2].x)/2,y:(t[1].y+t[2].y)/2,xAxis:t[0].series.xAxis,yAxis:t[0].series.yAxis}},n.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},n.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],n.middleLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[1],n.topLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[2],n.bottomLineEdgePoint]},!1)},n.prototype.addBackgrounds=function(){var t=this.shapes,i=this.options.typeOptions,o=this.initShape(s(i.innerBackground,{type:"path",points:[function(t){var i=t.annotation;return t=i.points,i=i.midPointOptions(),{x:(t[1].x+i.x)/2,y:(t[1].y+i.y)/2,xAxis:i.xAxis,yAxis:i.yAxis}},t[1].points[1],t[2].points[1],function(t){var i=t.annotation;return t=i.points,{x:((i=i.midPointOptions()).x+t[2].x)/2,y:(i.y+t[2].y)/2,xAxis:i.xAxis,yAxis:i.yAxis}}]}));t=this.initShape(s(i.outerBackground,{type:"path",points:[this.points[1],t[1].points[1],t[2].points[1],this.points[2]]})),i.innerBackground=o.options,i.outerBackground=t.options},n.topLineEdgePoint=n.outerLineEdgePoint(1),n.bottomLineEdgePoint=n.outerLineEdgePoint(0),n}(i)).prototype.defaultOptions=s(i.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),t.types.pitchfork=n})),i(t,"Extensions/Annotations/Types/VerticalLine.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=this&&this.__extends||function(){var t=function(i,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(i,o)};return function(i,o){function n(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),e=o.merge;return(o=function(t){function o(i,o){return t.call(this,i,o)||this}return n(o,t),o.connectorFirstPoint=function(t){var o=(t=t.annotation).points[0],n=i.pointToPixels(o,!0),e=n.y;return t.chart.inverted&&(e=n.x),{x:o.x,xAxis:o.series.xAxis,y:e+t.options.typeOptions.label.offset}},o.connectorSecondPoint=function(t){var o=t.annotation,n=o.points[0],e=(t=o.options.typeOptions).yOffset;return o=i.pointToPixels(n,!0)[o.chart.inverted?"x":"y"],0>t.label.offset&&(e*=-1),{x:n.x,xAxis:n.series.xAxis,y:o+e}},o.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},o.prototype.addShapes=function(){var t=this.options.typeOptions,i=this.initShape(e(t.connector,{type:"path",points:[o.connectorFirstPoint,o.connectorSecondPoint]}),!1);t.connector=i.options},o.prototype.addLabels=function(){var t=this.options.typeOptions,i=t.label,o=0,n=i.offset,s=0>i.offset?"bottom":"top",a="center";this.chart.inverted&&(o=i.offset,n=0,s="middle",a=0>i.offset?"right":"left"),i=this.initLabel(e(i,{verticalAlign:s,align:a,x:o,y:n})),t.label=i.options},o}(t)).prototype.defaultOptions=e(t.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(t){return t.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),t.types.verticalLine=o})),i(t,"Extensions/Annotations/Types/Measure.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/ControlPoint.js"],t["Core/Utilities.js"]],(function(t,i,o){var n,e=this&&this.__extends||(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),s=o.extend,a=o.isNumber,r=o.merge,l=function(o){function n(t,i){return o.call(this,t,i)||this}return e(n,o),n.prototype.init=function(i,o,e){t.prototype.init.call(this,i,o,e),this.resizeY=this.resizeX=this.offsetY=this.offsetX=0,n.calculations.init.call(this),this.addValues(),this.addShapes()},n.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},n.prototype.pointsOptions=function(){return this.options.points},n.prototype.shapePointsOptions=function(){var t=this.options.typeOptions,i=t.xAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:i,yAxis:t=t.yAxis},{x:this.xAxisMax,y:this.yAxisMin,xAxis:i,yAxis:t},{x:this.xAxisMax,y:this.yAxisMax,xAxis:i,yAxis:t},{x:this.xAxisMin,y:this.yAxisMax,xAxis:i,yAxis:t}]},n.prototype.addControlPoints=function(){var t=this.options.typeOptions.selectType,o=new i(this.chart,this,this.options.controlPointOptions,0);this.controlPoints.push(o),"xy"!==t&&(o=new i(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(o))},n.prototype.addValues=function(t){var i=this.options.typeOptions,o=i.label.formatter;n.calculations.recalculate.call(this,t),i.label.enabled&&(0<this.labels.length?this.labels[0].text=o&&o.call(this)||n.calculations.defaultFormatter.call(this):this.initLabel(s({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"dash",overflow:"none",align:"left",vertical:"top",crop:!0,point:function(t){var o=(t=t.annotation).chart,n=o.inverted,e=o.yAxis[i.yAxis],s=o.plotTop,a=o.plotLeft;return{x:(n?s:10)+o.xAxis[i.xAxis].toPixels(t.xAxisMin,!n),y:(n?10-a:s)+e.toPixels(t.yAxisMin)}},text:o&&o.call(this)||n.calculations.defaultFormatter.call(this)},i.label)))},n.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},n.prototype.addBackground=function(){void 0!==this.shapePointsOptions()[0].x&&this.initShape(s({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),!1)},n.prototype.addCrosshairs=function(){var t=this.chart,i=this.options.typeOptions,o=this.options.typeOptions.point,n=t.xAxis[i.xAxis],e=t.yAxis[i.yAxis],a=t.inverted;t=n.toPixels(this.xAxisMin),n=n.toPixels(this.xAxisMax);var l=e.toPixels(this.yAxisMin),h=e.toPixels(this.yAxisMax),p={point:o,type:"path"};o=[],e=[],a&&(a=t,t=l,l=a,a=n,n=h,h=a),i.crosshairX.enabled&&(o=[["M",t,l+(h-l)/2],["L",n,l+(h-l)/2]]),i.crosshairY.enabled&&(e=[["M",t+(n-t)/2,l],["L",t+(n-t)/2,h]]),0<this.shapes.length?(this.shapes[0].options.d=o,this.shapes[1].options.d=e):(t=r(p,i.crosshairX),i=r(p,i.crosshairY),this.initShape(s({d:o},t),!1),this.initShape(s({d:e},i),!1))},n.prototype.onDrag=function(t){var i=this.mouseMoveToTranslation(t),o=this.options.typeOptions.selectType;this.translate(t="y"===o?0:i.x,i="x"===o?0:i.y),this.offsetX+=t,this.offsetY+=i,this.redraw(!1,!1,!0)},n.prototype.resize=function(t,i,o,e){var s=this.shapes[2];"x"===e?0===o?(s.translatePoint(t,0,0),s.translatePoint(t,i,3)):(s.translatePoint(t,0,1),s.translatePoint(t,i,2)):"y"===e?0===o?(s.translatePoint(0,i,0),s.translatePoint(0,i,1)):(s.translatePoint(0,i,2),s.translatePoint(0,i,3)):(s.translatePoint(t,0,1),s.translatePoint(t,i,2),s.translatePoint(0,i,3)),n.calculations.updateStartPoints.call(this,!1,!0,o,t,i),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},n.prototype.redraw=function(t,i,o){this.linkPoints(),this.graphic||this.render(),o&&n.calculations.updateStartPoints.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(i),this.addCrosshairs(),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),this.controlPoints.forEach((function(t){t.redraw()}))},n.prototype.translate=function(t,i){this.shapes.forEach((function(o){o.translate(t,i)})),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},n.calculations={init:function(){var t=this.options.typeOptions,i=this.chart,o=n.calculations.getPointPos,e=i.inverted,s=i.xAxis[t.xAxis];i=i.yAxis[t.yAxis];var r=t.background,l=e?r.height:r.width;r=e?r.width:r.height;var h=t.selectType,p=e?s.left:i.top;e=e?i.top:s.left,this.startXMin=t.point.x,this.startYMin=t.point.y,this.startXMax=a(l)?this.startXMin+l:o(s,this.startXMin,parseFloat(l)),this.startYMax=a(r)?this.startYMin-r:o(i,this.startYMin,parseFloat(r)),"x"===h?(this.startYMin=i.toValue(p),this.startYMax=i.toValue(p+i.len)):"y"===h&&(this.startXMin=s.toValue(e),this.startXMax=s.toValue(e+s.len))},recalculate:function(t){var i=n.calculations,o=this.options.typeOptions,e=this.chart.xAxis[o.xAxis];o=this.chart.yAxis[o.yAxis];var s=n.calculations.getPointPos,a=this.offsetX,r=this.offsetY;this.xAxisMin=s(e,this.startXMin,a),this.xAxisMax=s(e,this.startXMax,a),this.yAxisMin=s(o,this.startYMin,r),this.yAxisMax=s(o,this.startYMax,r),this.min=i.min.call(this),this.max=i.max.call(this),this.average=i.average.call(this),this.bins=i.bins.call(this),t&&this.resize(0,0)},getPointPos:function(t,i,o){return t.toValue(t.toPixels(i)+o)},updateStartPoints:function(t,i,o,e,s){var a=this.options.typeOptions,r=a.selectType,l=this.chart.xAxis[a.xAxis];a=this.chart.yAxis[a.yAxis];var h=n.calculations.getPointPos,p=this.startXMin,c=this.startXMax,u=this.startYMin,d=this.startYMax,f=this.offsetX,y=this.offsetY;i&&("x"===r?0===o?this.startXMin=h(l,p,e):this.startXMax=h(l,c,e):"y"===r?0===o?this.startYMin=h(a,u,s):this.startYMax=h(a,d,s):(this.startXMax=h(l,c,e),this.startYMax=h(a,d,s))),t&&(this.startXMin=h(l,p,f),this.startXMax=h(l,c,f),this.startYMin=h(a,u,y),this.startYMax=h(a,d,y),this.offsetY=this.offsetX=0)},defaultFormatter:function(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins},getExtremes:function(t,i,o,n){return{xAxisMin:Math.min(i,t),xAxisMax:Math.max(i,t),yAxisMin:Math.min(n,o),yAxisMax:Math.max(n,o)}},min:function(){var t=1/0,i=this.chart.series,o=n.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),e=!1;return i.forEach((function(i){i.visible&&"highcharts-navigator-series"!==i.options.id&&i.points.forEach((function(i){!i.isNull&&i.y<t&&i.x>o.xAxisMin&&i.x<=o.xAxisMax&&i.y>o.yAxisMin&&i.y<=o.yAxisMax&&(t=i.y,e=!0)}))})),e||(t=""),t},max:function(){var t=-1/0,i=this.chart.series,o=n.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),e=!1;return i.forEach((function(i){i.visible&&"highcharts-navigator-series"!==i.options.id&&i.points.forEach((function(i){!i.isNull&&i.y>t&&i.x>o.xAxisMin&&i.x<=o.xAxisMax&&i.y>o.yAxisMin&&i.y<=o.yAxisMax&&(t=i.y,e=!0)}))})),e||(t=""),t},average:function(){var t="";return""!==this.max&&""!==this.min&&(t=(this.max+this.min)/2),t},bins:function(){var t=0,i=this.chart.series,o=n.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),e=!1;return i.forEach((function(i){i.visible&&"highcharts-navigator-series"!==i.options.id&&i.points.forEach((function(i){!i.isNull&&i.x>o.xAxisMin&&i.x<=o.xAxisMax&&i.y>o.yAxisMin&&i.y<=o.yAxisMax&&(t++,e=!0)}))})),e||(t=""),t}},n}(t);return l.prototype.defaultOptions=r(t.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(t){var i=this.index,o=t.chart,n=t.options,e=n.typeOptions,s=e.selectType;n=n.controlPointOptions;var a=o.inverted,r=o.xAxis[e.xAxis];o=o.yAxis[e.yAxis],e=t.xAxisMax;var h=t.yAxisMax,p=l.calculations.getExtremes(t.xAxisMin,t.xAxisMax,t.yAxisMin,t.yAxisMax);return"x"===s&&(h=(p.yAxisMax-p.yAxisMin)/2,0===i&&(e=t.xAxisMin)),"y"===s&&(e=p.xAxisMin+(p.xAxisMax-p.xAxisMin)/2,0===i&&(h=t.yAxisMin)),a?(t=o.toPixels(h),i=r.toPixels(e)):(t=r.toPixels(e),i=o.toPixels(h)),{x:t-n.width/2,y:i-n.height/2}},events:{drag:function(t,i){var o=this.mouseMoveToTranslation(t),n="y"===(t=i.options.typeOptions.selectType)?0:o.x;i.resize(n,o="x"===t?0:o.y,this.index,t),i.resizeX+=n,i.resizeY+=o,i.redraw(!1,!0)}}}}),t.types.measure=l})),i(t,"Mixins/Navigation.js",[],(function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(t,i){this.updates.forEach((function(o){o.update.call(o.context,t,i)}))}})},addUpdate:function(t,i){i.navigation||this.initUpdate(i),i.navigation.updates.push({update:t,context:i})}}})),i(t,"Extensions/Annotations/NavigationBindings.js",[t["Extensions/Annotations/Annotations.js"],t["Mixins/Navigation.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i,o,n){function e(t){var i=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;d(!0,t.prototype.defaultOptions.events,{click:function(t){var o=this,n=o.chart.navigationBindings,e=n.activeAnnotation;i&&i.call(o,t),e!==o?(n.deselectAnnotation(),n.activeAnnotation=o,o.setControlPointsVisibility(!0),l(n,"showPopup",{annotation:o,formType:"annotation-toolbar",options:n.annotationToFields(o),onSubmit:function(t){var i={};"remove"===t.actionType?(n.activeAnnotation=!1,n.chart.removeAnnotation(o)):(n.fieldsToOptions(t.fields,i),n.deselectAnnotation(),t=i.typeOptions,"measure"===o.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),o.update(i))}})):(n.deselectAnnotation(),l(n,"closePopup")),t.activeAnnotation=!0}})}var s=n.addEvent,a=n.attr,r=n.format,l=n.fireEvent,h=n.isArray,p=n.isFunction,c=n.isNumber,u=n.isObject,d=n.merge,f=n.objectEach,y=n.pick;n=n.setOptions;var g=o.doc,v=o.win,x=function(){function t(t,i){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=i,this.eventsToUnbind=[],this.container=g.getElementsByClassName(this.options.bindingsClassName||"")}return t.prototype.initEvents=function(){var t=this,i=t.chart,n=t.container,e=t.options;t.boundClassNames={},f(e.bindings||{},(function(i){t.boundClassNames[i.className]=i})),[].forEach.call(n,(function(i){t.eventsToUnbind.push(s(i,"click",(function(o){var n=t.getButtonEvents(i,o);n&&t.bindingsButtonClick(n.button,n.events,o)})))})),f(e.events||{},(function(i,o){p(i)&&t.eventsToUnbind.push(s(t,o,i))})),t.eventsToUnbind.push(s(i.container,"click",(function(o){!i.cancelClick&&i.isInsidePlot(o.chartX-i.plotLeft,o.chartY-i.plotTop)&&t.bindingsChartClick(this,o)}))),t.eventsToUnbind.push(s(i.container,o.isTouchDevice?"touchmove":"mousemove",(function(i){t.bindingsContainerMouseMove(this,i)})))},t.prototype.initUpdate=function(){var t=this;i.addUpdate((function(i){t.update(i)}),this.chart)},t.prototype.bindingsButtonClick=function(t,i,o){var n=this.chart;this.selectedButtonElement&&(l(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&n.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),this.selectedButton=i,this.selectedButtonElement=t,l(this,"selectButton",{button:t}),i.init&&i.init.call(this,t,o),(i.start||i.steps)&&n.renderer.boxWrapper.addClass("highcharts-draw-mode")},t.prototype.bindingsChartClick=function(t,i){var o,n=this.selectedButton;if(t=(t=this.chart).renderer.boxWrapper,o=this.activeAnnotation&&!i.activeAnnotation&&i.target.parentNode){t:{o=i.target;var e=v.Element.prototype,s=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,a=null;if(e.closest)a=e.closest.call(o,".highcharts-popup");else do{if(s.call(o,".highcharts-popup"))break t;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType);o=a}o=!o}o&&(l(this,"closePopup"),this.deselectAnnotation()),n&&n.start&&(this.nextEvent?(this.nextEvent(i,this.currentUserDetails),this.steps&&(this.stepIndex++,n.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]:(l(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),n.end&&n.end.call(this,i,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=n.start.call(this,i),n.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]):(l(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,n.end&&n.end.call(this,i,this.currentUserDetails))))},t.prototype.bindingsContainerMouseMove=function(t,i){this.mouseMoveEvent&&this.mouseMoveEvent(i,this.currentUserDetails)},t.prototype.fieldsToOptions=function(t,i){return f(t,(function(t,o){var n=parseFloat(t),e=o.split("."),s=i,a=e.length-1;!c(n)||t.match(/px/g)||o.match(/format/g)||(t=n),""!==t&&"undefined"!==t&&e.forEach((function(i,o){var n=y(e[o+1],"");a===o?s[i]=t:(s[i]||(s[i]=n.match(/\d/g)?[]:{}),s=s[i])}))})),i},t.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},t.prototype.annotationToFields=function(i){function o(t,n,e,l){if(e&&t&&-1===p.indexOf(n)&&(0<=(e.indexOf&&e.indexOf(n))||e[n]||!0===e))if(h(t))l[n]=[],t.forEach((function(t,i){u(t)?(l[n][i]={},f(t,(function(t,e){o(t,e,s[n],l[n][i])}))):o(t,0,s[n],l[n])}));else if(u(t)){var c={};h(l)?(l.push(c),c[n]={},c=c[n]):l[n]=c,f(t,(function(t,i){o(t,i,0===n?e:s[n],c)}))}else"format"===n?l[n]=[r(t,i.labels[0].points[0]).toString(),"text"]:h(l)?l.push([t,a(t)]):l[n]=[t,a(t)]}var n=i.options,e=t.annotationsEditable,s=e.nestedOptions,a=this.utils.getFieldType,l=y(n.type,n.shapes&&n.shapes[0]&&n.shapes[0].type,n.labels&&n.labels[0]&&n.labels[0].itemType,"label"),p=t.annotationsNonEditable[n.langKey]||[],c={langKey:n.langKey,type:l};return f(n,(function(t,i){"typeOptions"===i?(c[i]={},f(n[i],(function(t,n){o(t,n,s,c[i])}))):o(t,i,e[l],c)})),c},t.prototype.getClickedClassNames=function(t,i){var o,n=i.target;for(i=[];n&&((o=a(n,"class"))&&(i=i.concat(o.split(" ").map((function(t){return[t,n]})))),(n=n.parentNode)!==t););return i},t.prototype.getButtonEvents=function(t,i){var o,n=this;return this.getClickedClassNames(t,i).forEach((function(t){n.boundClassNames[t[0]]&&!o&&(o={events:n.boundClassNames[t[0]],button:t[1]})})),o},t.prototype.update=function(t){this.options=d(!0,this.options,t),this.removeEvents(),this.initEvents()},t.prototype.removeEvents=function(){this.eventsToUnbind.forEach((function(t){t()}))},t.prototype.destroy=function(){this.removeEvents()},t.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},t.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},t}();return x.prototype.utils={updateRectSize:function(t,i){var o=i.chart,n=i.options.typeOptions,e=o.pointer.getCoordinates(t);t=e.xAxis[0].value-n.point.x,n=n.point.y-e.yAxis[0].value,i.update({typeOptions:{background:{width:o.inverted?n:t,height:o.inverted?t:n}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]}},o.Chart.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new x(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},s(o.Chart,"load",(function(){this.initNavigationBindings()})),s(o.Chart,"destroy",(function(){this.navigationBindings&&this.navigationBindings.destroy()})),s(x,"deselectButton",(function(){this.selectedButtonElement=null})),s(t,"remove",(function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()})),o.Annotation&&(e(t),f(t.types,(function(t){e(t)}))),n({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(d({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},r:5}]},i.annotationsOptions,i.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,i){var o=i.options.shapes[0].point,n=this.chart.xAxis[0].toPixels(o.x);o=this.chart.yAxis[0].toPixels(o.y);var e=this.chart.inverted;i.update({shapes:[{r:Math.max(Math.sqrt(Math.pow(e?o-t.chartX:n-t.chartX,2)+Math.pow(e?n-t.chartY:o-t.chartY,2)),5)}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var i=this.chart.pointer.getCoordinates(t),o=i.xAxis[0].value;return this.chart.addAnnotation(d({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:o,y:i=i.yAxis[0].value},{xAxis:0,yAxis:0,x:o,y:i},{xAxis:0,yAxis:0,x:o,y:i},{xAxis:0,yAxis:0,x:o,y:i}]}]},(t=this.chart.options.navigation).annotationsOptions,t.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,i){var o=i.options.shapes[0].points,n=this.chart.pointer.getCoordinates(t);t=n.xAxis[0].value,n=n.yAxis[0].value,o[1].x=t,o[2].x=t,o[2].y=n,o[3].y=n,i.update({shapes:[{points:o}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(d({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},overflow:"none",crop:!0}]},i.annotationsOptions,i.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),x})),i(t,"Extensions/Annotations/Popup.js",[t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=n.addEvent,s=n.createElement,a=n.defined,r=n.getOptions,l=n.isArray,h=n.isObject,p=n.isString,c=n.objectEach,u=n.pick,d=/\d/g;(n=n.wrap)(o.prototype,"onContainerMouseDown",(function(t,i){var o=i.target&&i.target.className;p(o)&&0<=o.indexOf("highcharts-popup-field")||t.apply(this,Array.prototype.slice.call(arguments,1))})),t.Popup=function(t,i){this.init(t,i)},t.Popup.prototype={init:function(t,i){this.container=s("div",{className:"highcharts-popup"},null,t),this.lang=this.getLangpack(),this.iconsURL=i,this.addCloseBtn()},addCloseBtn:function(){var t=this,i=s("div",{className:"highcharts-popup-close"},null,this.container);i.style["background-image"]="url("+this.iconsURL+"close.svg)",["click","touchstart"].forEach((function(o){e(i,o,(function(){t.closePopup()}))}))},addColsContainer:function(t){var i=s("div",{className:"highcharts-popup-lhs-col"},null,t);return t=s("div",{className:"highcharts-popup-rhs-col"},null,t),s("div",{className:"highcharts-popup-rhs-col-wrapper"},null,t),{lhsCol:i,rhsCol:t}},addInput:function(t,i,o,n){var e=t.split("."),a=this.lang;(i="highcharts-"+i+"-"+(e=e[e.length-1])).match(d)||s("label",{innerHTML:a[e]||e,htmlFor:i},null,o),s("input",{name:i,value:n[0],type:n[1],className:"highcharts-popup-field"},null,o).setAttribute("highcharts-data-name",t)},addButton:function(t,i,o,n,a){var r=this,l=this.closePopup,h=this.getFields,p=s("button",{innerHTML:i},null,t);return["click","touchstart"].forEach((function(t){e(p,t,(function(){return l.call(r),n(h(a,o))}))})),p},getFields:function(t,i){var o,n=t.querySelectorAll("input"),e=t.querySelectorAll("#highcharts-select-series > option:checked")[0];t=t.querySelectorAll("#highcharts-select-volume > option:checked")[0];var s={actionType:i,linkedTo:e&&e.getAttribute("value"),fields:{}};return[].forEach.call(n,(function(t){o=t.getAttribute("highcharts-data-name"),t.getAttribute("highcharts-data-series-id")?s.seriesId=t.value:o?s.fields[o]=t.value:s.type=t.value})),t&&(s.fields["params.volumeSeriesID"]=t.getAttribute("value")),s},showPopup:function(){var t=this.container,i=t.querySelectorAll(".highcharts-popup-close")[0];t.innerHTML="",0<=t.className.indexOf("highcharts-annotation-toolbar")&&(t.classList.remove("highcharts-annotation-toolbar"),t.removeAttribute("style")),t.appendChild(i),t.style.display="block"},closePopup:function(){this.popup.container.style.display="none"},showForm:function(t,i,o,n){this.popup=i.navigationBindings.popup,this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,i,o,n),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,i,o,n),"annotation-edit"===t&&this.annotations.addForm.call(this,i,o,n),"flag"===t&&this.annotations.addForm.call(this,i,o,n,!0)},getLangpack:function(){return r().lang.navigation.popup},annotations:{addToolbar:function(t,i,o){var n=this,e=this.lang,a=this.popup.container,r=this.showForm;-1===a.className.indexOf("highcharts-annotation-toolbar")&&(a.className+=" highcharts-annotation-toolbar"),a.style.top=t.plotTop+10+"px",s("span",{innerHTML:u(e[i.langKey]||i.langKey,i.shapes&&i.shapes[0].type)},null,a);var l=this.addButton(a,e.removeButton||"remove","remove",o,a);l.className+=" highcharts-annotation-remove-button",l.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(l=this.addButton(a,e.editButton||"edit","edit",(function(){r.call(n,"annotation-edit",t,i,o)}),a)).className+=" highcharts-annotation-edit-button",l.style["background-image"]="url("+this.iconsURL+"edit.svg)"},addForm:function(t,i,o,n){var e=this.popup.container,a=this.lang;s("h2",{innerHTML:a[i.langKey]||i.langKey,className:"highcharts-popup-main-title"},null,e);var r=s("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},null,e),l=s("div",{className:"highcharts-popup-bottom-row"},null,e);this.annotations.addFormFields.call(this,r,t,"",i,[],!0),this.addButton(l,n?a.addButton||"add":a.saveButton||"save",n?"add":"save",o,e)},addFormFields:function(t,i,o,n,e,a){var r,p,u=this,f=this.annotations.addFormFields,y=this.addInput,g=this.lang;c(n,(function(n,s){r=""!==o?o+"."+s:s,h(n)&&(!l(n)||l(n)&&h(n[0])?((p=g[s]||s).match(d)||e.push([!0,p,t]),f.call(u,t,i,r,n,e,!1)):e.push([u,r,"annotation",t,n]))})),a&&(e=e.sort((function(t){return t[1].match(/format/g)?-1:1}))).forEach((function(t){!0===t[0]?s("span",{className:"highcharts-annotation-title",innerHTML:t[1]},null,t[2]):y.apply(t[0],t.splice(1))}))}},indicators:{addForm:function(t,i,o){var n=this.indicators,e=this.lang;this.tabs.init.call(this,t),i=this.popup.container.querySelectorAll(".highcharts-tab-item-content"),this.addColsContainer(i[0]),n.addIndicatorList.call(this,t,i[0],"add");var s=i[0].querySelectorAll(".highcharts-popup-rhs-col")[0];this.addButton(s,e.addButton||"add","add",o,s),this.addColsContainer(i[1]),n.addIndicatorList.call(this,t,i[1],"edit"),s=i[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(s,e.saveButton||"save","edit",o,s),this.addButton(s,e.removeButton||"remove","remove",o,s)},addIndicatorList:function(t,i,o){var n=this,a=i.querySelectorAll(".highcharts-popup-lhs-col")[0];i=i.querySelectorAll(".highcharts-popup-rhs-col")[0];var r,l="edit"===o,h=l?t.series:t.options.plotOptions,p=this.indicators.addFormFields,u=s("ul",{className:"highcharts-indicator-list"},null,a),d=i.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];c(h,(function(i,o){var a=i.options;if(i.params||a&&a.params){var c=n.indicators.getNameType(i,o),f=c.type;r=s("li",{className:"highcharts-indicator-list",innerHTML:c.name},null,u),["click","touchstart"].forEach((function(o){e(r,o,(function(){p.call(n,t,l?i:h[f],c.type,d),l&&i.options&&s("input",{type:"hidden",name:"highcharts-id-"+f,value:i.options.id},null,d).setAttribute("highcharts-data-series-id",i.options.id)}))}))}})),0<u.childNodes.length&&u.childNodes[0].click()},getNameType:function(i,o){var n=i.options,e=t.seriesTypes;return e=e[o]&&e[o].prototype.nameBase||o.toUpperCase(),n&&n.type&&(o=i.options.type,e=i.name),{name:e,type:o}},listAllSeries:function(t,i,o,n,e){var r;s("label",{innerHTML:this.lang[i]||i,htmlFor:t="highcharts-"+i+"-type-"+t},null,n);var l=s("select",{name:t,className:"highcharts-popup-field"},null,n);l.setAttribute("id","highcharts-select-"+i),o.series.forEach((function(t){!(r=t.options).params&&r.id&&"highcharts-navigator-series"!==r.id&&s("option",{innerHTML:r.name||r.id,value:r.id},null,l)})),a(e)&&(l.value=e)},addFormFields:function(t,i,o,n){var e=i.params||i.options.params,a=this.indicators.getNameType;n.innerHTML="",s("h3",{className:"highcharts-indicator-title",innerHTML:a(i,o).name},null,n),s("input",{type:"hidden",name:"highcharts-type-"+o,value:o},null,n),this.indicators.listAllSeries.call(this,o,"series",t,n,i.linkedParent&&e.volumeSeriesID),e.volumeSeriesID&&this.indicators.listAllSeries.call(this,o,"volume",t,n,i.linkedParent&&i.linkedParent.options.id),this.indicators.addParamInputs.call(this,t,"params",e,o,n)},addParamInputs:function(t,i,o,n,e){var s,a=this,r=this.indicators.addParamInputs,l=this.addInput;c(o,(function(o,p){s=i+"."+p,h(o)?r.call(a,t,s,o,n,e):"params.volumeSeriesID"!==s&&l.call(a,s,n,e,[o,"text"])}))},getAmount:function(){var t=0;return this.series.forEach((function(i){var o=i.options;(i.params||o&&o.params)&&t++})),t}},tabs:{init:function(t){var i=this.tabs;t=this.indicators.getAmount.call(t);var o=i.addMenuItem.call(this,"add");i.addMenuItem.call(this,"edit",t),i.addContentItem.call(this,"add"),i.addContentItem.call(this,"edit"),i.switchTabs.call(this,t),i.selectTab.call(this,o,0)},addMenuItem:function(t,i){var o="highcharts-tab-item";return 0===i&&(o+=" highcharts-tab-disabled"),(i=s("span",{innerHTML:this.lang[t+"Button"]||t,className:o},null,this.popup.container)).setAttribute("highcharts-data-tab-type",t),i},addContentItem:function(){return s("div",{className:"highcharts-tab-item-content"},null,this.popup.container)},switchTabs:function(t){var i=this;this.popup.container.querySelectorAll(".highcharts-tab-item").forEach((function(o,n){"edit"===o.getAttribute("highcharts-data-tab-type")&&0===t||["click","touchstart"].forEach((function(t){e(o,t,(function(){i.tabs.deselectAll.call(i),i.tabs.selectTab.call(i,this,n)}))}))}))},selectTab:function(t,i){var o=this.popup.container.querySelectorAll(".highcharts-tab-item-content");t.className+=" highcharts-tab-item-active",o[i].className+=" highcharts-tab-item-show"},deselectAll:function(){var t,i=this.popup.container,o=i.querySelectorAll(".highcharts-tab-item");for(i=i.querySelectorAll(".highcharts-tab-item-content"),t=0;t<o.length;t++)o[t].classList.remove("highcharts-tab-item-active"),i[t].classList.remove("highcharts-tab-item-show")}}},e(i,"showPopup",(function(i){this.popup||(this.popup=new t.Popup(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/8.2.0/gfx/stock-icons/")),this.popup.showForm(i.formType,this.chart,i.options,i.onSubmit)})),e(i,"closePopup",(function(){this.popup&&this.popup.closePopup()}))})),i(t,"masters/modules/annotations-advanced.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/price-indicator",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Extensions/PriceIndication.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.isArray,n=i.merge;(0,i.addEvent)(t.Series,"afterRender",(function(){var t=this.options,i=t.pointRange,e=t.lastVisiblePrice,s=t.lastPrice;if((e||s)&&"highcharts-navigator-series"!==t.id){var a=this.xAxis,r=this.yAxis,l=r.crosshair,h=r.cross,p=r.crossLabel,c=this.points,u=c.length,d=this.xData[this.xData.length-1],f=this.yData[this.yData.length-1];s&&s.enabled&&(r.crosshair=r.options.crosshair=t.lastPrice,r.cross=this.lastPrice,s=o(f)?f[3]:f,r.drawCrosshair(null,{x:d,y:s,plotX:a.toPixels(d,!0),plotY:r.toPixels(s,!0)}),this.yAxis.cross&&(this.lastPrice=this.yAxis.cross,this.lastPrice.y=s)),e&&e.enabled&&0<u&&(i=c[u-1].x===d||null===i?1:2,r.crosshair=r.options.crosshair=n({color:"transparent"},t.lastVisiblePrice),r.cross=this.lastVisiblePrice,t=c[u-i],this.crossLabel&&(this.crossLabel.destroy(),delete r.crossLabel),r.drawCrosshair(null,t),r.cross&&(this.lastVisiblePrice=r.cross,"number"==typeof t.y&&(this.lastVisiblePrice.y=t.y)),this.crossLabel=r.crossLabel),r.crosshair=l,r.cross=h,r.crossLabel=p}}))})),i(t,"masters/modules/price-indicator.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/full-screen",["highcharts"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Extensions/FullScreen.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.addEvent;return o=function(){function t(t){this.chart=t,this.isOpen=!1,t=t.renderTo,this.browserProps||("function"==typeof t.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return t.prototype.close=function(){var t=this.chart;this.isOpen&&this.browserProps&&t.container.ownerDocument instanceof Document&&t.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&this.unbindFullscreenEvent(),this.isOpen=!1,this.setButtonText()},t.prototype.open=function(){var t=this,i=t.chart;if(t.browserProps){t.unbindFullscreenEvent=n(i.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(t.isOpen=!0,t.setButtonText())}));var o=i.renderTo[t.browserProps.requestFullscreen]();o&&o.catch((function(){alert("Full screen is not supported inside a frame.")})),n(i,"destroy",t.unbindFullscreenEvent)}},t.prototype.setButtonText=function(){var t,i=this.chart,o=i.exportDivElements,n=i.options.exporting,e=null===(t=null==n?void 0:n.buttons)||void 0===t?void 0:t.contextButton.menuItems;t=i.options.lang,null!=n&&n.menuItemDefinitions&&null!=t&&t.exitFullscreen&&t.viewFullscreen&&e&&o&&o.length&&(o[e.indexOf("viewFullscreen")].innerHTML=this.isOpen?t.exitFullscreen:n.menuItemDefinitions.viewFullscreen.text||t.viewFullscreen)},t.prototype.toggle=function(){this.isOpen?this.close():this.open()},t}(),i.Fullscreen=o,n(t,"beforeRender",(function(){this.fullscreen=new i.Fullscreen(this)})),i.Fullscreen})),i(t,"masters/modules/full-screen.src.js",[],(function(){}))})),function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/stock-tools",["highcharts","highcharts/modules/stock"],(function(i){return t(i),t.Highcharts=i,t})):t("undefined"!=typeof Highcharts?Highcharts:void 0)}((function(t){function i(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}i(t=t?t._modules:{},"Extensions/Annotations/Mixins/EventEmitterMixin.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.addEvent,n=i.fireEvent,e=i.objectEach,s=i.pick,a=i.removeEvent;return{addEvents:function(){var i=this,s=function(n){o(n,t.isTouchDevice?"touchstart":"mousedown",(function(t){i.onMouseDown(t)}))};if(s(this.graphic.element),(i.labels||[]).forEach((function(t){t.options.useHTML&&t.graphic.text&&s(t.graphic.text.element)})),e(i.options.events,(function(t,n){var e=function(o){"click"===n&&i.cancelClick||t.call(i,i.chart.pointer.normalize(o),i.target)};-1===(i.nonDOMEvents||[]).indexOf(n)?i.graphic.on(n,e):o(i,n,e)})),i.options.draggable&&(o(i,"drag",i.onDrag),!i.graphic.renderer.styledMode)){var a={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[i.options.draggable]};i.graphic.css(a),(i.labels||[]).forEach((function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(a)}))}i.isUpdating||n(i,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(i){var e=this,a=e.chart.pointer;if(i.preventDefault&&i.preventDefault(),2!==i.button){var r=(i=a.normalize(i)).chartX,l=i.chartY;e.cancelClick=!1,e.chart.hasDraggedAnnotation=!0,e.removeDrag=o(t.doc,t.isTouchDevice?"touchmove":"mousemove",(function(t){e.hasDragged=!0,(t=a.normalize(t)).prevChartX=r,t.prevChartY=l,n(e,"drag",t),r=t.chartX,l=t.chartY})),e.removeMouseUp=o(t.doc,t.isTouchDevice?"touchend":"mouseup",(function(t){e.cancelClick=e.hasDragged,e.hasDragged=!1,e.chart.hasDraggedAnnotation=!1,n(s(e.target,e),"afterUpdate"),e.onMouseUp(t)}))}},onMouseUp:function(t){var i=this.chart,o=i.options.annotations;i=i.annotations.indexOf(t=this.target||this),this.removeDocEvents(),o[i]=t.options},onDrag:function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop)){var i=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(i.y=0),"y"===this.options.draggable&&(i.x=0),this.points.length?this.translate(i.x,i.y):(this.shapes.forEach((function(t){t.translate(i.x,i.y)})),this.labels.forEach((function(t){t.translate(i.x,i.y)}))),this.redraw(!1)}},mouseMoveToRadians:function(t,i,o){var n=t.prevChartY-o,e=t.prevChartX-i;return o=t.chartY-o,t=t.chartX-i,this.chart.inverted&&(i=e,e=n,n=i,i=t,t=o,o=i),Math.atan2(o,t)-Math.atan2(n,e)},mouseMoveToTranslation:function(t){var i=t.chartX-t.prevChartX;if(t=t.chartY-t.prevChartY,this.chart.inverted){var o=t;t=i,i=o}return{x:i,y:t}},mouseMoveToScale:function(t,i,o){return i=(t.chartX-i||1)/(t.prevChartX-i||1),t=(t.chartY-o||1)/(t.prevChartY-o||1),this.chart.inverted&&(o=t,t=i,i=o),{x:i,y:t}},destroy:function(){this.removeDocEvents(),a(this),this.hcEvents=null}}})),i(t,"Extensions/Annotations/ControlPoint.js",[t["Core/Utilities.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],(function(t,i){var o=t.merge,n=t.pick;return function(){function t(t,o,e,s){this.addEvents=i.addEvents,this.graphic=void 0,this.mouseMoveToRadians=i.mouseMoveToRadians,this.mouseMoveToScale=i.mouseMoveToScale,this.mouseMoveToTranslation=i.mouseMoveToTranslation,this.onDrag=i.onDrag,this.onMouseDown=i.onMouseDown,this.onMouseUp=i.onMouseUp,this.removeDocEvents=i.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=o,this.options=e,this.index=n(e.index,s)}return t.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},t.prototype.render=function(){var t=this.chart,i=this.options;this.graphic=t.renderer.symbol(i.symbol,0,0,i.width,i.height).add(t.controlPointsGroup).css(i.style),this.setVisibility(i.visible),this.addEvents()},t.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},t.prototype.destroy=function(){i.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},t.prototype.update=function(t){var i=this.chart,n=this.target,e=this.index;t=o(!0,this.options,t),this.destroy(),this.constructor(i,n,t,e),this.render(i.controlPointsGroup),this.redraw()},t}()})),i(t,"Extensions/Annotations/MockPoint.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var o=i.defined,n=i.fireEvent;return function(){function i(i,o,n){this.y=this.x=this.plotY=this.plotX=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:i,getPlotBox:t.Series.prototype.getPlotBox},this.target=o||null,this.options=n,this.applyOptions(this.getOptions())}return i.fromPoint=function(t){return new i(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},i.pointToPixels=function(t,i){var o=t.series,n=o.chart,e=t.plotX,s=t.plotY;return n.inverted&&(t.mock?(e=t.plotY,s=t.plotX):(e=n.plotWidth-t.plotY,s=n.plotHeight-t.plotX)),o&&!i&&(e+=(t=o.getPlotBox()).translateX,s+=t.translateY),{x:e,y:s}},i.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},i.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},i.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},i.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},i.prototype.setAxis=function(i,n){var e=this.series.chart;this.series[n+="Axis"]=(i=i[n])instanceof t.Axis?i:o(i)?e[n][i]||e.get(i):null},i.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},i.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},i.prototype.isInsidePlot=function(){var t=this.plotX,i=this.plotY,e=this.series.xAxis,s=this.series.yAxis,a={x:t,y:i,isInsidePlot:!0};return e&&(a.isInsidePlot=o(t)&&0<=t&&t<=e.len),s&&(a.isInsidePlot=a.isInsidePlot&&o(i)&&0<=i&&i<=s.len),n(this.series.chart,"afterIsInsidePlot",a),a.isInsidePlot},i.prototype.refresh=function(){var t=this.series,i=t.xAxis;t=t.yAxis;var o=this.getOptions();i?(this.x=o.x,this.plotX=i.toPixels(o.x,!0)):(this.x=null,this.plotX=o.x),t?(this.y=o.y,this.plotY=t.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},i.prototype.translate=function(t,i,o,n){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=n,this.refreshOptions())},i.prototype.scale=function(t,i,o,n){if(!this.hasDynamicOptions()){var e=this.plotY*n;this.plotX=(1-o)*t+this.plotX*o,this.plotY=(1-n)*i+e,this.refreshOptions()}},i.prototype.rotate=function(t,i,o){if(!this.hasDynamicOptions()){var n=Math.cos(o);o=Math.sin(o);var e=this.plotX,s=this.plotY;this.plotX=(e-=t)*n-(s-=i)*o+t,this.plotY=e*o+s*n+i,this.refreshOptions()}},i.prototype.refreshOptions=function(){var t=this.series,i=t.xAxis;t=t.yAxis,this.x=this.options.x=i?this.options.x=i.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY},i}()})),i(t,"Extensions/Annotations/Mixins/ControllableMixin.js",[t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=n.isObject,s=n.isString,a=n.merge,r=n.splat;return{init:function(t,i,o){this.annotation=t,this.chart=t.chart,this.options=i,this.points=[],this.controlPoints=[],this.index=o,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&r(t.point)},attrsFromOptions:function(t){var i,o=this.constructor.attrsMap,n={},e=this.chart.styledMode;for(i in t){var s=o[i];!s||e&&-1!==["fill","stroke","stroke-width"].indexOf(s)||(n[s]=t[i])}return n},anchor:function(t){var i=t.series.getPlotBox();return{relativePosition:t={x:(t=t.mock?t.toAnchor():o.prototype.getAnchor.call({chart:t.series.chart},t))[0]+(this.options.x||0),y:t[1]+(this.options.y||0),height:t[2]||0,width:t[3]||0},absolutePosition:a(t,{x:t.x+i.translateX,y:t.y+i.translateY})}},point:function(t,o){return t&&t.series?t:(o&&null!==o.series||(e(t)?o=new i(this.chart,this,t):s(t)?o=this.chart.get(t)||null:"function"==typeof t&&(o=(o=t.call(o,this)).series?o:new i(this.chart,this,t))),o)},linkPoints:function(){var t,i=this.getPointsOptions(),o=this.points,n=i&&i.length||0;for(t=0;t<n;t++){var e=this.point(i[t],o[t]);if(!e)return void(o.length=0);e.mock&&e.refresh(),o[t]=e}return o},addControlPoints:function(){var i=this.options.controlPoints;(i||[]).forEach((function(o,n){(o=a(this.options.controlPointOptions,o)).index||(o.index=n),i[n]=o,this.controlPoints.push(new t(this.chart,this,o))}),this)},shouldBeDrawn:function(){return!!this.points.length},render:function(t){this.controlPoints.forEach((function(t){t.render()}))},redraw:function(t){this.controlPoints.forEach((function(i){i.redraw(t)}))},transform:function(t,i,o,n,e){if(this.chart.inverted){var s=i;i=o,o=s}this.points.forEach((function(s,a){this.transformPoint(t,i,o,n,e,a)}),this)},transformPoint:function(t,o,n,e,s,a){var r=this.points[a];r.mock||(r=this.points[a]=i.fromPoint(r)),r[t](o,n,e,s)},translate:function(t,i){this.transform("translate",null,null,t,i)},translatePoint:function(t,i,o){this.transformPoint("translate",null,null,t,i,o)},translateShape:function(t,i){var o=this.annotation.chart,n=this.annotation.userOptions,e=o.annotations.indexOf(this.annotation);o=o.options.annotations[e],this.translatePoint(t,i,0),o[this.collection][this.index].point=this.options.point,n[this.collection][this.index].point=this.options.point},rotate:function(t,i,o){this.transform("rotate",t,i,o)},scale:function(t,i,o,n){this.transform("scale",t,i,o,n)},setControlPointsVisibility:function(t){this.controlPoints.forEach((function(i){i.setVisibility(t)}))},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach((function(t){t.destroy()})),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(t){var i=this.annotation;t=a(!0,this.options,t);var o=this.graphic.parentGroup;this.destroy(),this.constructor(i,t),this.render(o),this.redraw()}}})),i(t,"Extensions/Annotations/Mixins/MarkerMixin.js",[t["Core/Chart/Chart.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,i,o){function n(t){return function(i){this.attr(t,"url(#"+i+")")}}var e=o.addEvent,s=o.defined,a=o.merge,r=o.objectEach,l=o.uniqueKey,h={arrow:{tagName:"marker",render:!1,id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 0 L 10 5 L 0 10 Z",strokeWidth:0}]},"reverse-arrow":{tagName:"marker",render:!1,id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 5 L 10 0 L 10 10 Z",strokeWidth:0}]}};return i.prototype.addMarker=function(t,i){var o={id:t},n={stroke:i.color||"none",fill:i.color||"rgba(0, 0, 0, 0.75)"};return o.children=i.children.map((function(t){return a(n,t)})),(i=this.definition(a(!0,{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"},i,o))).id=t,i},i={markerEndSetter:n("marker-end"),markerStartSetter:n("marker-start"),setItemMarkers:function(t){var i=t.options,o=t.chart,n=o.options.defs,e=i.fill,r=s(e)&&"none"!==e?e:i.stroke;["markerStart","markerEnd"].forEach((function(e){var s,h=i[e];if(h){for(s in n){var p=n[s];if(h===p.id&&"marker"===p.tagName){var c=p;break}}c&&(h=t[e]=o.renderer.addMarker((i.id||l())+"-"+c.id,a(c,{color:r})),t.attr(e,h.attr("id")))}}))}},e(t,"afterGetContainer",(function(){this.options.defs=a(h,this.options.defs||{}),r(this.options.defs,(function(t){"marker"===t.tagName&&!1!==t.render&&this.renderer.addMarker(t.id,t)}),this)})),i})),i(t,"Extensions/Annotations/Controllables/ControllablePath.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/Mixins/MarkerMixin.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=n.extend,s="rgba(192,192,192,"+(i.svg?1e-4:.002)+")";return function(){function i(i,n,e){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.setMarkers=o.setItemMarkers,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translate=t.translate,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="path",this.init(i,n,e),this.collection="shapes"}return i.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var i=(t=this.points).length,o=i,n=t[0],e=o&&this.anchor(n).absolutePosition,s=0,a=[];if(e)for(a.push(["M",e.x,e.y]);++s<i&&o;)o=(n=t[s]).command||"L",e=this.anchor(n).absolutePosition,"M"===o||"L"===o?a.push([o,e.x,e.y]):"Z"===o&&a.push([o]),o=n.series.visible;return o?this.chart.renderer.crispLine(a,this.graphic.strokeWidth()):null},i.prototype.shouldBeDrawn=function(){return t.shouldBeDrawn.call(this)||!!this.options.d},i.prototype.render=function(i){var n=this.options,a=this.attrsFromOptions(n);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(a).add(i),n.className&&this.graphic.addClass(n.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(i),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:s,fill:s,"stroke-width":this.graphic.strokeWidth()+2*n.snap}),t.render.call(this),e(this.graphic,{markerStartSetter:o.markerStartSetter,markerEndSetter:o.markerEndSetter}),this.setMarkers(this)},i.prototype.redraw=function(i){var o=this.toD(),n=i?"animate":"attr";o?(this.graphic[n]({d:o}),this.tracker[n]({d:o})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!o,t.redraw.call(this,i)},i.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},i}()})),i(t,"Extensions/Annotations/Controllables/ControllableRect.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.merge;return function(){function o(i,o,n){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="rect",this.translate=t.translateShape,this.init(i,o,n),this.collection="shapes"}return o.prototype.render=function(i){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(o).add(i),t.render.call(this)},o.prototype.redraw=function(i){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[i?"animate":"attr"]({x:o.x,y:o.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!o,t.redraw.call(this,i)},o.attrsMap=n(i.attrsMap,{width:"width",height:"height"}),o}()})),i(t,"Extensions/Annotations/Controllables/ControllableCircle.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.merge;return function(){function o(i,o,n){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="circle",this.translate=t.translateShape,this.init(i,o,n),this.collection="shapes"}return o.prototype.render=function(i){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(o).add(i),t.render.call(this)},o.prototype.redraw=function(i){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[i?"animate":"attr"]({x:o.x,y:o.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!o,t.redraw.call(this,i)},o.prototype.setRadius=function(t){this.options.r=t},o.attrsMap=n(i.attrsMap,{r:"r"}),o}()})),i(t,"Extensions/Annotations/Controllables/ControllableLabel.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,i,o,n,e){var s=e.extend,a=e.format,r=e.isNumber,l=e.pick;return e=function(){function o(i,o,n){this.addControlPoints=t.addControlPoints,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translateShape=t.translateShape,this.update=t.update,this.init(i,o,n),this.collection="labels"}return o.alignedPosition=function(t,i){var o,n,e=t.align,s=t.verticalAlign,a=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0);return"right"===e?o=1:"center"===e&&(o=2),o&&(a+=(i.width-(t.width||0))/o),"bottom"===s?n=1:"middle"===s&&(n=2),n&&(r+=(i.height-(t.height||0))/n),{x:Math.round(a),y:Math.round(r)}},o.justifiedOptions=function(t,i,o,n){var e=o.align,s=o.verticalAlign,a=i.box?0:i.padding||0,r=i.getBBox();i={align:e,verticalAlign:s,x:o.x,y:o.y,width:i.width,height:i.height};var l=n.y-t.plotTop;return 0>(n=(o=n.x-t.plotLeft)+a)&&("right"===e?i.align="left":i.x=-n),(n=o+r.width-a)>t.plotWidth&&("left"===e?i.align="right":i.x=t.plotWidth-n),0>(n=l+a)&&("bottom"===s?i.verticalAlign="top":i.y=-n),(n=l+r.height-a)>t.plotHeight&&("top"===s?i.verticalAlign="bottom":i.y=t.plotHeight-n),i},o.prototype.translatePoint=function(i,o){t.translatePoint.call(this,i,o,0)},o.prototype.translate=function(t,i){var o=this.annotation.chart,n=this.annotation.userOptions,e=o.annotations.indexOf(this.annotation);e=o.options.annotations[e],o.inverted&&(o=t,t=i,i=o),this.options.x+=t,this.options.y+=i,e[this.collection][this.index].x=this.options.x,e[this.collection][this.index].y=this.options.y,n[this.collection][this.index].x=this.options.x,n[this.collection][this.index].y=this.options.y},o.prototype.render=function(i){var n=this.options,e=this.attrsFromOptions(n),s=n.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,n.shape,null,null,n.useHTML,null,"annotation-label").attr(e).add(i),this.annotation.chart.styledMode||("contrast"===s.color&&(s.color=this.annotation.chart.renderer.getContrast(-1<o.shapesWithoutBackground.indexOf(n.shape)?"#FFFFFF":n.backgroundColor)),this.graphic.css(n.style).shadow(n.shadow)),n.className&&this.graphic.addClass(n.className),this.graphic.labelrank=n.labelrank,t.render.call(this)},o.prototype.redraw=function(i){var o=this.options,n=this.text||o.format||o.text,e=this.graphic,s=this.points[0];e.attr({text:n?a(n,s.getLabelConfig(),this.annotation.chart):o.formatter.call(s,this)}),o=this.anchor(s),(n=this.position(o))?(e.alignAttr=n,n.anchorX=o.absolutePosition.x,n.anchorY=o.absolutePosition.y,e[i?"animate":"attr"](n)):e.attr({x:0,y:-9999}),e.placed=!!n,t.redraw.call(this,i)},o.prototype.anchor=function(i){var o=t.anchor.apply(this,arguments),n=this.options.x||0,e=this.options.y||0;return o.absolutePosition.x-=n,o.absolutePosition.y-=e,o.relativePosition.x-=n,o.relativePosition.y-=e,o},o.prototype.position=function(t){var e=this.graphic,a=this.annotation.chart,r=this.points[0],h=this.options,p=t.absolutePosition,c=t.relativePosition;if(t=r.series.visible&&i.prototype.isInsidePlot.call(r)){if(h.distance)var u=n.prototype.getPosition.call({chart:a,distance:l(h.distance,16)},e.width,e.height,{plotX:c.x,plotY:c.y,negative:r.negative,ttBelow:r.ttBelow,h:c.height||c.width});else h.positioner?u=h.positioner.call(this):(r={x:p.x,y:p.y,width:0,height:0},u=o.alignedPosition(s(h,{width:e.width,height:e.height}),r),"justify"===this.options.overflow&&(u=o.alignedPosition(o.justifiedOptions(a,e,h,u),r)));h.crop&&(t=a.isInsidePlot(h=u.x-a.plotLeft,r=u.y-a.plotTop)&&a.isInsidePlot(h+e.width,r+e.height))}return t?u:null},o.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},o.shapesWithoutBackground=["connector"],o}(),o.prototype.symbols.connector=function(t,i,o,n,e){var s=e&&e.anchorX;e=e&&e.anchorY;var a=o/2;if(r(s)&&r(e)){var l=[["M",s,e]],h=i-e;0>h&&(h=-n-h),h<o&&(a=s<t+o/2?h:o-h),e>i+n?l.push(["L",t+a,i+n]):e<i?l.push(["L",t+a,i]):s<t?l.push(["L",t,i+n/2]):s>t+o&&l.push(["L",t+o,i+n/2])}return l||[]},e})),i(t,"Extensions/Annotations/Controllables/ControllableImage.js",[t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"]],(function(t,i){return function(){function o(t,o,n){this.addControlPoints=i.addControlPoints,this.anchor=i.anchor,this.attr=i.attr,this.attrsFromOptions=i.attrsFromOptions,this.destroy=i.destroy,this.getPointsOptions=i.getPointsOptions,this.init=i.init,this.linkPoints=i.linkPoints,this.point=i.point,this.rotate=i.rotate,this.scale=i.scale,this.setControlPointsVisibility=i.setControlPointsVisibility,this.shouldBeDrawn=i.shouldBeDrawn,this.transform=i.transform,this.transformPoint=i.transformPoint,this.translatePoint=i.translatePoint,this.translateShape=i.translateShape,this.update=i.update,this.type="image",this.translate=i.translateShape,this.init(t,o,n),this.collection="shapes"}return o.prototype.render=function(t){var o=this.attrsFromOptions(this.options),n=this.options;this.graphic=this.annotation.chart.renderer.image(n.src,0,-9e9,n.width,n.height).attr(o).add(t),this.graphic.width=n.width,this.graphic.height=n.height,i.render.call(this)},o.prototype.redraw=function(o){var n=this.anchor(this.points[0]);(n=t.prototype.position.call(this,n))?this.graphic[o?"animate":"attr"]({x:n.x,y:n.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!n,i.redraw.call(this,o)},o.attrsMap={width:"width",height:"height",zIndex:"zIndex"},o}()})),i(t,"Extensions/Annotations/Annotations.js",[t["Core/Chart/Chart.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllableRect.js"],t["Extensions/Annotations/Controllables/ControllableCircle.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Extensions/Annotations/Controllables/ControllableImage.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,i,o,n,e,s,a,r,l,h,p,c,u){t=t.prototype;var d=u.addEvent,f=u.defined,y=u.destroyObjectProperties,g=u.erase,v=u.extend,x=u.find,m=u.fireEvent,b=u.getDeferredAnimation,A=u.merge,C=u.pick,P=u.splat;u=u.wrap;var k=function(){function t(t,i){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=A(this.defaultOptions,i),this.userOptions=i,i=this.getLabelsAndShapesOptions(this.options,i),this.options.labels=i.labels,this.options.shapes=i.shapes,this.init(t,this.options)}return t.prototype.init=function(){var t=this.chart,i=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=b(t,i)},t.prototype.getLabelsAndShapesOptions=function(t,i){var o={};return["labels","shapes"].forEach((function(n){t[n]&&(o[n]=P(i[n]).map((function(i,o){return A(t[n][o],i)})))})),o},t.prototype.addShapes=function(){(this.options.shapes||[]).forEach((function(t,i){t=this.initShape(t,i),A(!0,this.options.shapes[i],t.options)}),this)},t.prototype.addLabels=function(){(this.options.labels||[]).forEach((function(t,i){t=this.initLabel(t,i),A(!0,this.options.labels[i],t.options)}),this)},t.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},t.prototype.setClipAxes=function(){var t=this.chart.xAxis,i=this.chart.yAxis,o=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((function(o,n){return[t[n&&n.point&&n.point.xAxis]||o[0],i[n&&n.point&&n.point.yAxis]||o[1]]}),[]);this.clipXAxis=o[0],this.clipYAxis=o[1]},t.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},t.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce((function(t,i){return i.options.allowOverlap||t.push(i.graphic),t}),[])},t.chart.labelCollectors.push(t.labelCollector)},t.prototype.setOptions=function(t){this.options=A(this.defaultOptions,t)},t.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),i.redraw.call(this,t)},t.prototype.redrawItems=function(t,i){for(var o=t.length;o--;)this.redrawItem(t[o],i)},t.prototype.renderItems=function(t){for(var i=t.length;i--;)this.renderItem(t[i])},t.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),i.render.call(this)},t.prototype.setVisibility=function(t){var i=this.options;t=C(t,!i.visible),this.graphic.attr("visibility",t?"visible":"hidden"),t||this.setControlPointsVisibility(!1),i.visible=t},t.prototype.setControlPointsVisibility=function(t){var o=function(i){i.setControlPointsVisibility(t)};i.setControlPointsVisibility.call(this,t),this.shapes.forEach(o),this.labels.forEach(o)},t.prototype.destroy=function(){var t=this.chart,o=function(t){t.destroy()};this.labels.forEach(o),this.shapes.forEach(o),this.clipYAxis=this.clipXAxis=null,g(t.labelCollectors,this.labelCollector),l.destroy.call(this),i.destroy.call(this),y(this,t)},t.prototype.remove=function(){return this.chart.removeAnnotation(this)},t.prototype.update=function(t,i){var o=this.chart,n=this.getLabelsAndShapesOptions(this.userOptions,t),e=o.annotations.indexOf(this);(t=A(!0,this.userOptions,t)).labels=n.labels,t.shapes=n.shapes,this.destroy(),this.constructor(o,t),o.options.annotations[e]=t,this.isUpdating=!0,C(i,!0)&&o.redraw(),m(this,"afterUpdate"),this.isUpdating=!1},t.prototype.initShape=function(i,o){return i=A(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},i),(o=new t.shapesMap[i.type](this,i,o)).itemType="shape",this.shapes.push(o),o},t.prototype.initLabel=function(t,i){return t=A(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(i=new a(this,t,i)).itemType="label",this.labels.push(i),i},t.prototype.redrawItem=function(t,i){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(C(i,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},t.prototype.adjustVisibility=function(t){var i=!1,o=t.graphic;t.points.forEach((function(t){!1!==t.series.visible&&!1!==t.visible&&(i=!0)})),i?"hidden"===o.visibility&&o.show():o.hide()},t.prototype.destroyItem=function(t){g(this[t.itemType+"s"],t),t.destroy()},t.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},t.ControlPoint=r,t.MockPoint=p,t.shapesMap={rect:o,circle:n,path:e,image:s},t.types={},t}();return A(!0,k.prototype,i,l,A(k.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"black",borderRadius:3,borderWidth:1,className:"",crop:!1,formatter:function(){return f(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{stroke:"black","stroke-width":2,fill:"white"},visible:!1,events:{}},events:{},zIndex:6}})),h.extendAnnotation=function(t,i,o,n){A(!0,t.prototype,(i=i||k).prototype,o),t.prototype.defaultOptions=A(t.prototype.defaultOptions,n||{})},v(t,{initAnnotation:function(t){return t=new(k.types[t.type]||k)(this,t),this.annotations.push(t),t},addAnnotation:function(t,i){return t=this.initAnnotation(t),this.options.annotations.push(t.options),C(i,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t},removeAnnotation:function(t){var i=this.annotations,o="annotations"===t.coll?t:x(i,(function(i){return i.options.id===t}));o&&(m(o,"remove"),g(this.options.annotations,o.options),g(i,o),o.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)}))}}),t.collectionsWithUpdate.push("annotations"),t.collectionsWithInit.annotations=[t.addAnnotation],t.callbacks.push((function(t){t.annotations=[],t.options.annotations||(t.options.annotations=[]),t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach((function(i,o){i=t.initAnnotation(i),t.options.annotations[o]=i.options})),t.drawAnnotations(),d(t,"redraw",t.drawAnnotations),d(t,"destroy",(function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()})),d(t,"exportData",(function(i){var o,n,e,s,a,r,l,h,p=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,c=!i.dataRows[1].xValues,u=null===(n=null===(o=t.options.lang)||void 0===o?void 0:o.exportData)||void 0===n?void 0:n.annotationHeader;o=function(t){if(p){var i=p(t);if(!1!==i)return i}return i=u+" "+t,c?{columnTitle:i,topLevelColumnTitle:i}:i};var d=i.dataRows[0].length,f=null===(a=null===(s=null===(e=t.options.exporting)||void 0===e?void 0:e.csv)||void 0===s?void 0:s.annotations)||void 0===a?void 0:a.itemDelimiter,y=null===(h=null===(l=null===(r=t.options.exporting)||void 0===r?void 0:r.csv)||void 0===l?void 0:l.annotations)||void 0===h?void 0:h.join;t.annotations.forEach((function(t){t.options.labelOptions.includeInDataExport&&t.labels.forEach((function(t){if(t.options.text){var o=t.options.text;t.points.forEach((function(t){var n=t.x,e=t.series.xAxis?t.series.xAxis.options.index:-1,s=!1;if(-1===e){t=i.dataRows[0].length;for(var a=Array(t),r=0;r<t;++r)a[r]="";a.push(o),a.xValues=[],a.xValues[e]=n,i.dataRows.push(a),s=!0}if(s||i.dataRows.forEach((function(t,i){!s&&t.xValues&&void 0!==e&&n===t.xValues[e]&&(y&&t.length>d?t[t.length-1]+=f+o:t.push(o),s=!0)})),!s){for(t=i.dataRows[0].length,a=Array(t),r=0;r<t;++r)a[r]="";a[0]=n,a.push(o),a.xValues=[],void 0!==e&&(a.xValues[e]=n),i.dataRows.push(a)}}))}}))}));var g=0;for(i.dataRows.forEach((function(t){g=Math.max(g,t.length)})),e=g-i.dataRows[0].length,s=0;s<e;s++)a=o(s+1),c?(i.dataRows[0].push(a.topLevelColumnTitle),i.dataRows[1].push(a.columnTitle)):i.dataRows[0].push(a)}))})),u(c.prototype,"onContainerMouseDown",(function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))})),h.Annotation=k})),i(t,"Mixins/Navigation.js",[],(function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(t,i){this.updates.forEach((function(o){o.update.call(o.context,t,i)}))}})},addUpdate:function(t,i){i.navigation||this.initUpdate(i),i.navigation.updates.push({update:t,context:i})}}})),i(t,"Extensions/Annotations/NavigationBindings.js",[t["Extensions/Annotations/Annotations.js"],t["Mixins/Navigation.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i,o,n){function e(t){var i=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;d(!0,t.prototype.defaultOptions.events,{click:function(t){var o=this,n=o.chart.navigationBindings,e=n.activeAnnotation;i&&i.call(o,t),e!==o?(n.deselectAnnotation(),n.activeAnnotation=o,o.setControlPointsVisibility(!0),l(n,"showPopup",{annotation:o,formType:"annotation-toolbar",options:n.annotationToFields(o),onSubmit:function(t){var i={};"remove"===t.actionType?(n.activeAnnotation=!1,n.chart.removeAnnotation(o)):(n.fieldsToOptions(t.fields,i),n.deselectAnnotation(),t=i.typeOptions,"measure"===o.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),o.update(i))}})):(n.deselectAnnotation(),l(n,"closePopup")),t.activeAnnotation=!0}})}var s=n.addEvent,a=n.attr,r=n.format,l=n.fireEvent,h=n.isArray,p=n.isFunction,c=n.isNumber,u=n.isObject,d=n.merge,f=n.objectEach,y=n.pick;n=n.setOptions;var g=o.doc,v=o.win,x=function(){function t(t,i){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=i,this.eventsToUnbind=[],this.container=g.getElementsByClassName(this.options.bindingsClassName||"")}return t.prototype.initEvents=function(){var t=this,i=t.chart,n=t.container,e=t.options;t.boundClassNames={},f(e.bindings||{},(function(i){t.boundClassNames[i.className]=i})),[].forEach.call(n,(function(i){t.eventsToUnbind.push(s(i,"click",(function(o){var n=t.getButtonEvents(i,o);n&&t.bindingsButtonClick(n.button,n.events,o)})))})),f(e.events||{},(function(i,o){p(i)&&t.eventsToUnbind.push(s(t,o,i))})),t.eventsToUnbind.push(s(i.container,"click",(function(o){!i.cancelClick&&i.isInsidePlot(o.chartX-i.plotLeft,o.chartY-i.plotTop)&&t.bindingsChartClick(this,o)}))),t.eventsToUnbind.push(s(i.container,o.isTouchDevice?"touchmove":"mousemove",(function(i){t.bindingsContainerMouseMove(this,i)})))},t.prototype.initUpdate=function(){var t=this;i.addUpdate((function(i){t.update(i)}),this.chart)},t.prototype.bindingsButtonClick=function(t,i,o){var n=this.chart;this.selectedButtonElement&&(l(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&n.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),this.selectedButton=i,this.selectedButtonElement=t,l(this,"selectButton",{button:t}),i.init&&i.init.call(this,t,o),(i.start||i.steps)&&n.renderer.boxWrapper.addClass("highcharts-draw-mode")},t.prototype.bindingsChartClick=function(t,i){var o,n=this.selectedButton;if(t=(t=this.chart).renderer.boxWrapper,o=this.activeAnnotation&&!i.activeAnnotation&&i.target.parentNode){t:{o=i.target;var e=v.Element.prototype,s=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,a=null;if(e.closest)a=e.closest.call(o,".highcharts-popup");else do{if(s.call(o,".highcharts-popup"))break t;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType);o=a}o=!o}o&&(l(this,"closePopup"),this.deselectAnnotation()),n&&n.start&&(this.nextEvent?(this.nextEvent(i,this.currentUserDetails),this.steps&&(this.stepIndex++,n.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]:(l(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),n.end&&n.end.call(this,i,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=n.start.call(this,i),n.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]):(l(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,n.end&&n.end.call(this,i,this.currentUserDetails))))},t.prototype.bindingsContainerMouseMove=function(t,i){this.mouseMoveEvent&&this.mouseMoveEvent(i,this.currentUserDetails)},t.prototype.fieldsToOptions=function(t,i){return f(t,(function(t,o){var n=parseFloat(t),e=o.split("."),s=i,a=e.length-1;!c(n)||t.match(/px/g)||o.match(/format/g)||(t=n),""!==t&&"undefined"!==t&&e.forEach((function(i,o){var n=y(e[o+1],"");a===o?s[i]=t:(s[i]||(s[i]=n.match(/\d/g)?[]:{}),s=s[i])}))})),i},t.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},t.prototype.annotationToFields=function(i){function o(t,n,e,l){if(e&&t&&-1===p.indexOf(n)&&(0<=(e.indexOf&&e.indexOf(n))||e[n]||!0===e))if(h(t))l[n]=[],t.forEach((function(t,i){u(t)?(l[n][i]={},f(t,(function(t,e){o(t,e,s[n],l[n][i])}))):o(t,0,s[n],l[n])}));else if(u(t)){var c={};h(l)?(l.push(c),c[n]={},c=c[n]):l[n]=c,f(t,(function(t,i){o(t,i,0===n?e:s[n],c)}))}else"format"===n?l[n]=[r(t,i.labels[0].points[0]).toString(),"text"]:h(l)?l.push([t,a(t)]):l[n]=[t,a(t)]}var n=i.options,e=t.annotationsEditable,s=e.nestedOptions,a=this.utils.getFieldType,l=y(n.type,n.shapes&&n.shapes[0]&&n.shapes[0].type,n.labels&&n.labels[0]&&n.labels[0].itemType,"label"),p=t.annotationsNonEditable[n.langKey]||[],c={langKey:n.langKey,type:l};return f(n,(function(t,i){"typeOptions"===i?(c[i]={},f(n[i],(function(t,n){o(t,n,s,c[i])}))):o(t,i,e[l],c)})),c},t.prototype.getClickedClassNames=function(t,i){var o,n=i.target;for(i=[];n&&((o=a(n,"class"))&&(i=i.concat(o.split(" ").map((function(t){return[t,n]})))),(n=n.parentNode)!==t););return i},t.prototype.getButtonEvents=function(t,i){var o,n=this;return this.getClickedClassNames(t,i).forEach((function(t){n.boundClassNames[t[0]]&&!o&&(o={events:n.boundClassNames[t[0]],button:t[1]})})),o},t.prototype.update=function(t){this.options=d(!0,this.options,t),this.removeEvents(),this.initEvents()},t.prototype.removeEvents=function(){this.eventsToUnbind.forEach((function(t){t()}))},t.prototype.destroy=function(){this.removeEvents()},t.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},t.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},t}();return x.prototype.utils={updateRectSize:function(t,i){var o=i.chart,n=i.options.typeOptions,e=o.pointer.getCoordinates(t);t=e.xAxis[0].value-n.point.x,n=n.point.y-e.yAxis[0].value,i.update({typeOptions:{background:{width:o.inverted?n:t,height:o.inverted?t:n}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]}},o.Chart.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new x(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},s(o.Chart,"load",(function(){this.initNavigationBindings()})),s(o.Chart,"destroy",(function(){this.navigationBindings&&this.navigationBindings.destroy()})),s(x,"deselectButton",(function(){this.selectedButtonElement=null})),s(t,"remove",(function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()})),o.Annotation&&(e(t),f(t.types,(function(t){e(t)}))),n({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(d({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},r:5}]},i.annotationsOptions,i.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,i){var o=i.options.shapes[0].point,n=this.chart.xAxis[0].toPixels(o.x);o=this.chart.yAxis[0].toPixels(o.y);var e=this.chart.inverted;i.update({shapes:[{r:Math.max(Math.sqrt(Math.pow(e?o-t.chartX:n-t.chartX,2)+Math.pow(e?n-t.chartY:o-t.chartY,2)),5)}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var i=this.chart.pointer.getCoordinates(t),o=i.xAxis[0].value;return this.chart.addAnnotation(d({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:o,y:i=i.yAxis[0].value},{xAxis:0,yAxis:0,x:o,y:i},{xAxis:0,yAxis:0,x:o,y:i},{xAxis:0,yAxis:0,x:o,y:i}]}]},(t=this.chart.options.navigation).annotationsOptions,t.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,i){var o=i.options.shapes[0].points,n=this.chart.pointer.getCoordinates(t);t=n.xAxis[0].value,n=n.yAxis[0].value,o[1].x=t,o[2].x=t,o[2].y=n,o[3].y=n,i.update({shapes:[{points:o}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(d({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},overflow:"none",crop:!0}]},i.annotationsOptions,i.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),x})),i(t,"Stock/StockToolsBindings.js",[t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Core/Utilities.js"]],(function(t,i,o){var n=o.correctFloat,e=o.defined,s=o.extend,a=o.fireEvent,r=o.isNumber,l=o.merge,h=o.pick,p=o.setOptions,c=o.uniqueKey,u=i.prototype.utils;u.addFlagFromForm=function(t){return function(i){var o=this,n=o.chart,e=n.stockTools,s=u.getFieldType,r={type:"flags",onSeries:(i=u.attractToPoint(i,n)).series.id,shape:t,data:[{x:i.x,y:i.y}],point:{events:{click:function(){var t=this,i=t.options;a(o,"showPopup",{point:t,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[i.title,s(i.title)],name:[i.name,s(i.name)]},onSubmit:function(i){"remove"===i.actionType?t.remove():t.update(o.fieldsToOptions(i.fields,{}))}})}}}};e&&e.guiEnabled||n.addSeries(r),a(o,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",s("A")],name:["Flag A",s("Flag A")]},onSubmit:function(t){o.fieldsToOptions(t.fields,r.data[0]),n.addSeries(r)}})}},u.manageIndicators=function(t){var i=this.chart,o={linkedTo:t.linkedTo,type:t.type},n="ad atr cci cmf macd mfi roc rsi ao aroon aroonoscillator trix apo dpo ppo natr williamsr stochastic slowstochastic linearRegression linearRegressionSlope linearRegressionIntercept linearRegressionAngle".split(" ");if("edit"===t.actionType)this.fieldsToOptions(t.fields,o),(t=i.get(t.seriesId))&&t.update(o,!1);else if("remove"===t.actionType){if(t=i.get(t.seriesId)){var e=t.yAxis;t.linkedSeries&&t.linkedSeries.forEach((function(t){t.remove(!1)})),t.remove(!1),0<=n.indexOf(t.type)&&(e.remove(!1),this.resizeYAxes())}}else o.id=c(),this.fieldsToOptions(t.fields,o),0<=n.indexOf(t.type)?(e=i.addAxis({id:c(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),o.yAxis=e.options.id,this.resizeYAxes()):o.yAxis=i.get(t.linkedTo).options.yAxis,0<=["ad","cmf","mfi","vbp","vwap"].indexOf(t.type)&&(o.params.volumeSeriesID=i.series.filter((function(t){return"column"===t.options.type}))[0].options.id),i.addSeries(o,!1);a(this,"deselectButton",{button:this.selectedButtonElement}),i.redraw()},u.updateHeight=function(t,i){i.update({typeOptions:{height:this.chart.pointer.getCoordinates(t).yAxis[0].value-i.options.typeOptions.points[1].y}})},u.attractToPoint=function(t,i){var o=(t=i.pointer.getCoordinates(t)).xAxis[0].value;t=t.yAxis[0].value;var n,e=Number.MAX_VALUE;return i.series.forEach((function(t){t.points.forEach((function(t){t&&e>Math.abs(t.x-o)&&(e=Math.abs(t.x-o),n=t)}))})),{x:n.x,y:n.y,below:t<n.y,series:n.series,xAxis:n.series.xAxis.index||0,yAxis:n.series.yAxis.index||0}},u.isNotNavigatorYAxis=function(t){return"highcharts-navigator-yaxis"!==t.userOptions.className},u.updateNthPoint=function(t){return function(i,o){var n=o.options.typeOptions,e=(i=this.chart.pointer.getCoordinates(i)).xAxis[0].value,s=i.yAxis[0].value;n.points.forEach((function(i,o){o>=t&&(i.x=e,i.y=s)})),o.update({typeOptions:{points:n.points}})}},s(i.prototype,{getYAxisPositions:function(t,i,o){function s(t){return e(t)&&!r(t)&&t.match("%")}var a=0;return(t=t.map((function(t){var e=s(t.options.height)?parseFloat(t.options.height)/100:t.height/i;return t=s(t.options.top)?parseFloat(t.options.top)/100:n(t.top-t.chart.plotTop)/i,r(e)||(e=o/100),a=n(a+e),{height:100*e,top:100*t}}))).allAxesHeight=a,t},getYAxisResizers:function(t){var i=[];return t.forEach((function(o,n){i[n]=(o=t[n+1])?{enabled:!0,controlledAxis:{next:[h(o.options.id,o.options.index)]}}:{enabled:!1}})),i},resizeYAxes:function(t){t=t||20;var i=this.chart,o=i.yAxis.filter(u.isNotNavigatorYAxis),e=o.length;i=this.getYAxisPositions(o,i.plotHeight,t);var s=this.getYAxisResizers(o),a=i.allAxesHeight,r=t;1<a?(6>e?(i[0].height=n(i[0].height-r),i=this.recalculateYAxisPositions(i,r)):i=this.recalculateYAxisPositions(i,(t=100/e)/(e-1),!0,-1),i[e-1]={top:n(100-t),height:t}):(r=100*n(1-a),5>e?(i[0].height=n(i[0].height+r),i=this.recalculateYAxisPositions(i,r)):i=this.recalculateYAxisPositions(i,r/e,!0,1)),i.forEach((function(t,i){o[i].update({height:t.height+"%",top:t.top+"%",resize:s[i]},!1)}))},recalculateYAxisPositions:function(t,i,o,e){return t.forEach((function(s,a){s.top=(a=t[a-1])?n(a.height+a.top):0,o&&(s.height=n(s.height+e*i))})),t}}),p({navigation:{bindings:o={segment:{className:"highcharts-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"segment",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.segment.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowSegment.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"ray",type:"crookedLine",typeOptions:{type:"ray",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.ray.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowRay.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.infinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowInfinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=l({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.horizontalLine.annotationsOptions),this.chart.addAnnotation(t)}},verticalLine:{className:"highcharts-vertical-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=l({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.verticalLine.annotationsOptions),this.chart.addAnnotation(t)}},crooked3:{className:"highcharts-crooked3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"crooked3",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked3.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1),u.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"crookedLine",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked5.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1),u.updateNthPoint(2),u.updateNthPoint(3),u.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"elliott3",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott3.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1),u.updateNthPoint(2),u.updateNthPoint(3)]},elliott5:{className:"highcharts-elliott5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"elliott5",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott5.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1),u.updateNthPoint(2),u.updateNthPoint(3),u.updateNthPoint(4),u.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"measure",type:"measure",typeOptions:{selectType:"x",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureX.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"measure",type:"measure",typeOptions:{selectType:"y",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureY.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureXY.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"fibonacci",type:"fibonacci",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.fibonacci.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1),u.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"parallelChannel",type:"tunnel",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.parallelChannel.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1),u.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=l({langKey:"pitchfork",type:"pitchfork",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value,controlPoint:{style:{fill:"red"}}},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},i.annotationsOptions,i.bindings.pitchfork.annotationsOptions),this.chart.addAnnotation(t)},steps:[u.updateNthPoint(1),u.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(t){t=u.attractToPoint(t,this.chart);var i=this.chart.options.navigation,o=e(this.verticalCounter)?this.verticalCounter:0;t=l({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,text:o.toString()}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalCounter.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalLabel:{className:"highcharts-vertical-label",start:function(t){t=u.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=l({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalLabel.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(t){t=u.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=l({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,format:" "},connector:{fill:"none",stroke:t.below?"red":"green"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalArrow.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},flagCirclepin:{className:"highcharts-flag-circlepin",start:u.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:u.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:u.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:u.addFlagFromForm("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(t){this.chart.update({chart:{zoomType:"x"}}),a(this,"deselectButton",{button:t})}},zoomY:{className:"highcharts-zoom-y",init:function(t){this.chart.update({chart:{zoomType:"y"}}),a(this,"deselectButton",{button:t})}},zoomXY:{className:"highcharts-zoom-xy",init:function(t){this.chart.update({chart:{zoomType:"xy"}}),a(this,"deselectButton",{button:t})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(t){this.chart.series[0].update({type:"line",useOhlcData:!0}),a(this,"deselectButton",{button:t})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(t){this.chart.series[0].update({type:"ohlc"}),a(this,"deselectButton",{button:t})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(t){this.chart.series[0].update({type:"candlestick"}),a(this,"deselectButton",{button:t})}},fullScreen:{className:"highcharts-full-screen",init:function(t){this.chart.fullscreen.toggle(),a(this,"deselectButton",{button:t})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(t){var i=this.chart,o=i.series[0],n=o.options,e=n.lastVisiblePrice&&n.lastVisiblePrice.enabled;n=n.lastPrice&&n.lastPrice.enabled;var s=(i=i.stockTools).getIconsURL();i&&i.guiEnabled&&(t.firstChild.style["background-image"]=n?'url("'+s+'current-price-show.svg")':'url("'+s+'current-price-hide.svg")'),o.update({lastPrice:{enabled:!n,color:"red"},lastVisiblePrice:{enabled:!e,label:{enabled:!0}}}),a(this,"deselectButton",{button:t})}},indicators:{className:"highcharts-indicators",init:function(){var t=this;a(t,"showPopup",{formType:"indicators",options:{},onSubmit:function(i){t.utils.manageIndicators.call(t,i)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(t){var i=this.chart,o=i.stockTools,n=o.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(i.annotations||[]).forEach((function(t){t.setVisibility(!this.toggledAnnotations)}),this),o&&o.guiEnabled&&(t.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+n+'annotations-hidden.svg")':'url("'+n+'annotations-visible.svg")'),a(this,"deselectButton",{button:t})}},saveChart:{className:"highcharts-save-chart",init:function(i){var o=this.chart,n=[],e=[],s=[],r=[];o.annotations.forEach((function(t,i){n[i]=t.userOptions})),o.series.forEach((function(t){t.is("sma")?e.push(t.userOptions):"flags"===t.type&&s.push(t.userOptions)})),o.yAxis.forEach((function(t){u.isNotNavigatorYAxis(t)&&r.push(t.options)})),t.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:n,indicators:e,flags:s,yAxes:r})),a(this,"deselectButton",{button:i})}}}}}),i.prototype.utils=l(u,i.prototype.utils)})),i(t,"Stock/StockToolsGui.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Core/Utilities.js"]],(function(t,i,o,n){var e=n.addEvent,s=n.createElement,a=n.css,r=n.extend,l=n.fireEvent,h=n.getStyle,p=n.isArray,c=n.merge,u=n.pick;return(n=n.setOptions)({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",circle:"Circle",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel"}},navigation:{popup:{circle:"Circle",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background"}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:"indicators separator simpleShapes lines crookedLines measure advanced toggleAnnotations separator verticalLabels flags separator zoomChange fullScreen typeChange separator currentPriceIndicator saveChart".split(" "),definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","rectangle"],circle:{symbol:"circle.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:"segment arrowSegment ray arrowRay line arrowLine horizontalLine verticalLine".split(" "),segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","pitchfork","parallelChannel"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},parallelChannel:{symbol:"parallel-channel.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}),e(i.Chart,"afterGetContainer",(function(){this.setStockTools()})),e(i.Chart,"getMargins",(function(){var t=this.stockTools&&this.stockTools.listWrapper;(t=t&&(t.startWidth+h(t,"padding-left")+h(t,"padding-right")||t.offsetWidth))&&t<this.plotWidth&&(this.plotLeft+=t)})),e(i.Chart,"destroy",(function(){this.stockTools&&this.stockTools.destroy()})),e(i.Chart,"redraw",(function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()})),(n=function(){function t(t,i,o){this.wrapper=this.toolbar=this.submenu=this.showhideBtn=this.listWrapper=this.arrowWrapper=this.arrowUp=this.arrowDown=void 0,this.chart=o,this.options=t,this.lang=i,this.iconsURL=this.getIconsURL(),this.guiEnabled=t.enabled,this.visible=u(t.visible,!0),this.placed=u(t.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),l(this,"afterInit")}return t.prototype.init=function(){var t,i=this,o=this.lang,n=this.options,s=this.toolbar,a=i.addSubmenu,r=n.definitions,l=s.childNodes;n.buttons.forEach((function(n){t=i.addButton(s,r,n,o),i.eventsToUnbind.push(e(t.buttonWrapper,"click",(function(){i.eraseActiveButtons(l,t.buttonWrapper)}))),p(r[n].items)&&a.call(i,t,r[n])}))},t.prototype.addSubmenu=function(t,i){var o,n=this,r=t.submenuArrow,l=t.buttonWrapper,p=h(l,"width"),c=this.wrapper,u=this.listWrapper,d=this.toolbar.childNodes,f=0;this.submenu=o=s("ul",{className:"highcharts-submenu-wrapper"},null,l),this.addSubmenuItems(l,i),n.eventsToUnbind.push(e(r,"click",(function(t){t.stopPropagation(),n.eraseActiveButtons(d,l),0<=l.className.indexOf("highcharts-current")?(u.style.width=u.startWidth+"px",l.classList.remove("highcharts-current"),o.style.display="none"):(o.style.display="block",f=o.offsetHeight-l.offsetHeight-3,o.offsetHeight+l.offsetTop>c.offsetHeight&&l.offsetTop>f||(f=0),a(o,{top:-f+"px",left:p+3+"px"}),l.className+=" highcharts-current",u.startWidth=c.offsetWidth,u.style.width=u.startWidth+h(u,"padding-left")+o.offsetWidth+3+"px")})))},t.prototype.addSubmenuItems=function(t,i){var o,n=this,s=this.submenu,a=this.lang,r=this.listWrapper;i.items.forEach((function(l){o=n.addButton(s,i,l,a),n.eventsToUnbind.push(e(o.mainButton,"click",(function(){n.switchSymbol(this,t,!0),r.style.width=r.startWidth+"px",s.style.display="none"})))}));var l=s.querySelectorAll("li > .highcharts-menu-item-btn")[0];n.switchSymbol(l,!1)},t.prototype.eraseActiveButtons=function(t,i,o){[].forEach.call(t,(function(t){t!==i&&(t.classList.remove("highcharts-current"),t.classList.remove("highcharts-active"),0<(o=t.querySelectorAll(".highcharts-submenu-wrapper")).length&&(o[0].style.display="none"))}))},t.prototype.addButton=function(i,o,n,e){void 0===e&&(e={});var a=(o=o[n]).items,r=o.className||"";if(n=s("li",{className:u(t.prototype.classMapping[n],"")+" "+r,title:e[n]||n},null,i),i=s("span",{className:"highcharts-menu-item-btn"},null,n),a&&a.length){var l=s("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},null,n);l.style["background-image"]="url("+this.iconsURL+"arrow-bottom.svg)"}else i.style["background-image"]="url("+this.iconsURL+o.symbol+")";return{buttonWrapper:n,mainButton:i,submenuArrow:l}},t.prototype.addNavigation=function(){var t=this.wrapper;this.arrowWrapper=s("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=s("div",{className:"highcharts-arrow-up"},null,this.arrowWrapper),this.arrowUp.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=s("div",{className:"highcharts-arrow-down"},null,this.arrowWrapper),this.arrowDown.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",t.insertBefore(this.arrowWrapper,t.childNodes[0]),this.scrollButtons()},t.prototype.scrollButtons=function(){var t=0,i=this.wrapper,o=this.toolbar,n=.1*i.offsetHeight;this.eventsToUnbind.push(e(this.arrowUp,"click",(function(){0<t&&(o.style["margin-top"]=-(t-=n)+"px")}))),this.eventsToUnbind.push(e(this.arrowDown,"click",(function(){i.offsetHeight+t<=o.offsetHeight+n&&(o.style["margin-top"]=-(t+=n)+"px")})))},t.prototype.createHTML=function(){var t=this.chart,i=this.options,o=t.container;this.wrapper=t=s("div",{className:"highcharts-stocktools-wrapper "+i.className+" "+((t=t.options.navigation)&&t.bindingsClassName)}),o.parentNode.insertBefore(t,o),this.toolbar=o=s("ul",{className:"highcharts-stocktools-toolbar "+i.toolbarClassName}),this.listWrapper=i=s("div",{className:"highcharts-menu-wrapper"}),t.insertBefore(i,t.childNodes[0]),i.insertBefore(o,i.childNodes[0]),this.showHideToolbar(),this.addNavigation()},t.prototype.showHideNavigatorion=function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")},t.prototype.showHideToolbar=function(){var t,i=this.chart,o=this.wrapper,n=this.listWrapper,a=this.submenu,r=this.visible;this.showhideBtn=t=s("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},null,o),t.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",r?(o.style.height="100%",t.style.top=h(n,"padding-top")+"px",t.style.left=o.offsetWidth+h(n,"padding-left")+"px"):(a&&(a.style.display="none"),t.style.left="0px",this.visible=r=!1,n.classList.add("highcharts-hide"),t.classList.toggle("highcharts-arrow-right"),o.style.height=t.offsetHeight+"px"),this.eventsToUnbind.push(e(t,"click",(function(){i.update({stockTools:{gui:{visible:!r,placed:!0}}})})))},t.prototype.switchSymbol=function(t,i){var o=t.parentNode,n=o.classList.value;(o=o.parentNode.parentNode).className="",n&&o.classList.add(n.trim()),o.querySelectorAll(".highcharts-menu-item-btn")[0].style["background-image"]=t.style["background-image"],i&&this.selectButton(o)},t.prototype.selectButton=function(t){0<=t.className.indexOf("highcharts-active")?t.classList.remove("highcharts-active"):t.classList.add("highcharts-active")},t.prototype.unselectAllButtons=function(t){var i=t.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(i,(function(i){i!==t&&i.classList.remove("highcharts-active")}))},t.prototype.update=function(t){c(!0,this.chart.options.stockTools,t),this.destroy(),this.chart.setStockTools(t),this.chart.navigationBindings&&this.chart.navigationBindings.update()},t.prototype.destroy=function(){var t=this.wrapper,i=t&&t.parentNode;this.eventsToUnbind.forEach((function(t){t()})),i&&i.removeChild(t),this.chart.isDirtyBox=!0,this.chart.redraw()},t.prototype.redraw=function(){this.showHideNavigatorion()},t.prototype.getIconsURL=function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/8.2.0/gfx/stock-icons/"},t}()).prototype.classMapping={circle:"highcharts-circle-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeCandlestick:"highcharts-series-type-candlestick",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},r(t.prototype,{setStockTools:function(t){var o=this.options,n=o.lang;t=c(o.stockTools&&o.stockTools.gui,t&&t.gui),this.stockTools=new i.Toolbar(t,n.stockTools&&n.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}}),e(o,"selectButton",(function(t){var i=t.button,o=this.chart.stockTools;o&&o.guiEnabled&&(o.unselectAllButtons(t.button),0<=i.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(i=i.parentNode.parentNode),o.selectButton(i))})),e(o,"deselectButton",(function(t){t=t.button;var i=this.chart.stockTools;i&&i.guiEnabled&&(0<=t.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(t=t.parentNode.parentNode),i.selectButton(t))})),i.Toolbar=n,i.Toolbar})),i(t,"masters/modules/stock-tools.src.js",[],(function(){}))}));